<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Pemodelan Statistika pada Data Geospasial - 2&nbsp; Spasial Durbin Model</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-SpasialAutoRegresifBinomialNegatif.html" rel="next">
<link href="./01-SpasialAutoRegresifModel.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./part-1.html">Model Dependensi Spasial</a></li><li class="breadcrumb-item"><a href="./02-SpasialDurbinModel.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Spasial Durbin Model</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pemodelan Statistika pada Data Geospasial</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/statistika-spasial/book" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kata Pengantar</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pendahuluan</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Dependensi Spasial</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-SpasialAutoRegresifModel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Spasial Autoregresif Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-SpasialDurbinModel.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Spasial Durbin Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-SpasialAutoRegresifBinomialNegatif.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Spasial Autoregresif Binomial Negatif</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Keragaman Spasial</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-RegresiTerbobotiGeografis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Regresi Terboboti Geografis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-RegresiTerbobotiGeografisCampuran.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regresi Terboboti Geografis Campuran</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-RegresiTerbobotiGeografisBinomialNegatif.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Regresi Terboboti Geografis Binomial Negatif</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed SAR-GWR</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-MetodeAnalisis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Metode Analisis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-TahapanR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tahapan Analisis dengan R</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spatial Filtering</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-ModelDependensiSpasial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Model Dependensi Spasial</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-ModelKeragamanSpasial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Model Keragaman Spasial</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ModelEpidemiologi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Epidemiologi</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Lampiran</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referensi</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Daftar isi</h2>
   
  <ul>
<li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data"><span class="header-section-number">2.1</span> Data</a></li>
  <li><a href="#metode-analisis" id="toc-metode-analisis" class="nav-link" data-scroll-target="#metode-analisis"><span class="header-section-number">2.2</span> Metode Analisis</a></li>
  <li>
<a href="#tahapan-analisis-data-dengan-r" id="toc-tahapan-analisis-data-dengan-r" class="nav-link" data-scroll-target="#tahapan-analisis-data-dengan-r"><span class="header-section-number">2.3</span> Tahapan Analisis Data dengan R</a>
  <ul class="collapse">
<li><a href="#package" id="toc-package" class="nav-link" data-scroll-target="#package"><span class="header-section-number">2.3.1</span> Package</a></li>
  <li><a href="#input-data" id="toc-input-data" class="nav-link" data-scroll-target="#input-data"><span class="header-section-number">2.3.2</span> Input Data</a></li>
  <li><a href="#eksplorasi-data" id="toc-eksplorasi-data" class="nav-link" data-scroll-target="#eksplorasi-data"><span class="header-section-number">2.3.3</span> Eksplorasi Data</a></li>
  <li><a href="#matriks-pembobot-spasial" id="toc-matriks-pembobot-spasial" class="nav-link" data-scroll-target="#matriks-pembobot-spasial"><span class="header-section-number">2.3.4</span> Matriks Pembobot Spasial</a></li>
  <li><a href="#efek-spasial" id="toc-efek-spasial" class="nav-link" data-scroll-target="#efek-spasial"><span class="header-section-number">2.3.5</span> Efek Spasial</a></li>
  <li><a href="#efek-dependensi-spasial-pada-prediktor" id="toc-efek-dependensi-spasial-pada-prediktor" class="nav-link" data-scroll-target="#efek-dependensi-spasial-pada-prediktor"><span class="header-section-number">2.3.6</span> Efek dependensi spasial pada prediktor</a></li>
  <li><a href="#pendugaan-parameter-model-sar-dan-sdm" id="toc-pendugaan-parameter-model-sar-dan-sdm" class="nav-link" data-scroll-target="#pendugaan-parameter-model-sar-dan-sdm"><span class="header-section-number">2.3.7</span> Pendugaan parameter model SAR dan SDM</a></li>
  <li><a href="#pemeriksaan-asumsi-model-regresi-spasial" id="toc-pemeriksaan-asumsi-model-regresi-spasial" class="nav-link" data-scroll-target="#pemeriksaan-asumsi-model-regresi-spasial"><span class="header-section-number">2.3.8</span> Pemeriksaan asumsi model regresi spasial</a></li>
  <li><a href="#evaluasi-kebaikan-model" id="toc-evaluasi-kebaikan-model" class="nav-link" data-scroll-target="#evaluasi-kebaikan-model"><span class="header-section-number">2.3.9</span> Evaluasi kebaikan model</a></li>
  <li><a href="#interpretasi-model-terbaik" id="toc-interpretasi-model-terbaik" class="nav-link" data-scroll-target="#interpretasi-model-terbaik"><span class="header-section-number">2.3.10</span> Interpretasi model terbaik</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./part-1.html">Model Dependensi Spasial</a></li><li class="breadcrumb-item"><a href="./02-SpasialDurbinModel.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Spasial Durbin Model</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-sd-model" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Spasial Durbin Model</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="data" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="data">
<span class="header-section-number">2.1</span> Data</h2>
<p>Ilustrasi model spasial Durbin (<strong>Spatial Durbin Model/SDM</strong>) bersumber dari penelitian <span class="citation" data-cites="febriyanti2016">Ramadhani (<a href="references.html#ref-febriyanti2016" role="doc-biblioref">2016</a>)</span>. Kasus yang diteliti adalah tentang infeksi virus Dengue di kecamatan DKI Jakarta. Peubah yang digunakan dan sumber data selengkapnya disajikan pada <a href="#tbl-sdm" class="quarto-xref">Tabel&nbsp;<span>2.1</span></a>. Data dan peta ilustrasi SDM tersedia pada tautan <a href="https://ipb.link/sdm">https://ipb.link/sdm</a>.</p>
<div id="tbl-sdm" class="striped hover quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sdm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabel&nbsp;2.1: Daftar Peubah dan Sumber Data
</figcaption><div aria-describedby="tbl-sdm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table-striped table-hover table">
<colgroup>
<col style="width: 10%">
<col style="width: 61%">
<col style="width: 28%">
</colgroup>
<thead><tr class="header">
<th>Peubah</th>
<th>Nama Peubah</th>
<th>Sumber</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(Y\)</span></td>
<td>Persentase penderita infeksi virus Dengue per kecamatan di DKI Jakarta tahun 2014 (%)</td>
<td>Dinas Kesehatan DKI Jakarta 2014</td>
</tr>
<tr class="even">
<td><span class="math inline">\(X_1\)</span></td>
<td>Kepadatan penduduk per kecamatan di DKI Jakarta tahun 2014 (Jiwa/km)</td>
<td>Dinas Kependudukan dan Pencatatan Sipil DKI Jakarta 2014</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X_2\)</span></td>
<td>Rasio rumah sakit dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="even">
<td><span class="math inline">\(X_3\)</span></td>
<td>Rasio puskesmas dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X_4\)</span></td>
<td>Rasio poliklinik dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="even">
<td><span class="math inline">\(X_5\)</span></td>
<td>Rasio tempat praktik dokter dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X_6\)</span></td>
<td>Rasio apotek dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="even">
<td><span class="math inline">\(X_7\)</span></td>
<td>Rasio keluarga yang tinggal di pemukiman kumuh dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X_8\)</span></td>
<td>Rasio sekolah dasar dengan sekolah lain per kecamatan di DKI Jakarta tahun 2014</td>
<td>Potensi Desa (PODES) BPS RI 2014</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section><section id="metode-analisis" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="metode-analisis">
<span class="header-section-number">2.2</span> Metode Analisis</h2>
<p>Langkah-langkah metode analisis data pada penelitian ini adalah sebagai berikut:</p>
<ol type="1">
<li><p>Melakukan eksplorasi data untuk memeriksa multikolinearitas pada prediktor yang digunakan dengan variance inflation factors (VIF), menentukan efek spasial secara eksploratif dengan peta tematik, dan memeriksa pencilan spasial dengan menggunakan diagram kotak garis dan plot pencaran Moran.</p></li>
<li><p>Membuat matriks pembobot spasial (<span class="math inline">\(W\)</span>) dengan metode pembobotan <em>Queen Contiguity</em>.</p></li>
<li>
<p>Menguji efek spasial:</p>
<ol type="a">
<li>depedensi spasial pada peubah respon dan sisaan dari model regresi linier berganda dengan indeks Moran.</li>
<li>Menguji kehomogenan ragam sisaan model regresi klasik dengan uji Breusch-Pagan.</li>
<li>Pemilihan model depedensi spasial menggunakan uji pengganda Lagrange (Lagrange Multiplier/LM).</li>
</ol>
</li>
<li><p>Memeriksa efek depedensi spasial pada prediktor dengan indeks Moran.</p></li>
<li><p>Menduga parameter model regresi spasial sesuai hasil butir (3) dan (4).</p></li>
<li><p>Memeriksa asumsi pada model regresi spasial pada butir (5).</p></li>
<li><p>Mengukur kebaikan model dengan pseudo <span class="math inline">\(R^2\)</span> dan AIC.</p></li>
<li><p>Interpretasi Model terbaik.</p></li>
</ol></section><section id="tahapan-analisis-data-dengan-r" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="tahapan-analisis-data-dengan-r">
<span class="header-section-number">2.3</span> Tahapan Analisis Data dengan R</h2>
<p>Tahap awal dalam pemodelan menggunakan R Studio adalah melakukan input data dan install package yang dibutuhkan untuk analisis.</p>
<section id="package" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="package">
<span class="header-section-number">2.3.1</span> Package</h3>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span>         <span class="co"># Untuk import data format .xlsx</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/">car</a></span><span class="op">)</span>        <span class="co"># Untuk menghitung nilai VIF</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/spdep/">spdep</a></span><span class="op">)</span>      <span class="co"># Untuk pemodelan dependensi spasial</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/spatialreg/">spatialreg</a></span><span class="op">)</span> <span class="co"># Untuk pemodelan dependensi spasial</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">lmtest</span><span class="op">)</span>     <span class="co"># Untuk pengujian asumsi</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span>   <span class="co"># Untuk visualisasi data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>            <span class="co"># Untuk visualisasi data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>      <span class="co"># Untuk mengolah dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="input-data" class="level3" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="input-data">
<span class="header-section-number">2.3.2</span> Input Data</h3>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Set Lokasi File</span></span>
<span><span class="co">#Input Data</span></span>
<span><span class="va">DBD</span><span class="op">&lt;-</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">'data/3100_data.xlsx'</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Menyamakan tipe data dengan file shp</span></span>
<span><span class="va">DBD</span><span class="op">$</span><span class="va">KODE2010</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">DBD</span><span class="op">$</span><span class="va">KODE2010</span><span class="op">)</span> </span>
<span><span class="co">#</span></span>
<span><span class="co">#Rasio SD per 100 000 penduduk</span></span>
<span><span class="va">DBD</span><span class="op">$</span><span class="va">PSD</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">DBD</span><span class="op">$</span><span class="va">SD</span><span class="op">/</span><span class="va">DBD</span><span class="op">$</span><span class="va">JUMLAHPENDUDUK</span><span class="op">)</span><span class="op">*</span><span class="fl">100000</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">DBD</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">20</span>, <span class="fl">21</span>, <span class="fl">22</span>, <span class="fl">24</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'X1'</span>,<span class="st">'X2'</span>,<span class="st">'X3'</span>,<span class="st">'X4'</span>,<span class="st">'X5'</span>,<span class="st">'X6'</span>,<span class="st">'X7'</span>,<span class="st">'X8'</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Merapikan dataframe</span></span>
<span><span class="va">DBD</span> <span class="op">&lt;-</span> <span class="va">DBD</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'KODE2010'</span>, <span class="st">'KECAMATAN'</span>, <span class="st">'Y'</span>, <span class="st">'X1'</span>, <span class="st">'X2'</span>, <span class="st">'X3'</span>, <span class="st">'X4'</span>, </span>
<span>     <span class="st">'X5'</span>, <span class="st">'X6'</span>, <span class="st">'X7'</span>, <span class="st">'X8'</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># </span></span>
<span><span class="co">#Input peta SHP</span></span>
<span><span class="va">shp.jkt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">read_sf</a></span><span class="op">(</span><span class="st">"data/shp/3100_kec.shp"</span><span class="op">)</span></span>
<span><span class="co"># </span></span>
<span><span class="co">#Menggabungkan Data ke file SHP</span></span>
<span><span class="va">gabung</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">shp.jkt</span>, <span class="va">DBD</span>, by <span class="op">=</span> <span class="st">"KODE2010"</span><span class="op">)</span></span>
<span><span class="va">longlat</span><span class="op">=</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html">st_coordinates</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="va">gabung</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: st_centroid assumes attributes are constant over</span></span>
<span><span class="co">#&gt; geometries</span></span>
<span><span class="va">gabung</span></span>
<span><span class="co">#&gt; Simple feature collection with 42 features and 17 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 107 ymin: -6.37 xmax: 107 ymax: -6.09</span></span>
<span><span class="co">#&gt; CRS:           NA</span></span>
<span><span class="co">#&gt; # A tibble: 42 × 18</span></span>
<span><span class="co">#&gt;   PROVNO KABKOTNO KECNO KODE2010 PROVINSI    KABKOT       </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1 31     75       010   3175010  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; 2 31     75       020   3175020  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; 3 31     75       030   3175030  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; 4 31     75       040   3175040  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; 5 31     75       050   3175050  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; 6 31     75       060   3175060  DKI JAKARTA JAKARTA UTARA</span></span>
<span><span class="co">#&gt; # ℹ 36 more rows</span></span>
<span><span class="co">#&gt; # ℹ 12 more variables: KECAMATAN.x &lt;chr&gt;, …</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="eksplorasi-data" class="level3" data-number="2.3.3"><h3 data-number="2.3.3" class="anchored" data-anchor-id="eksplorasi-data">
<span class="header-section-number">2.3.3</span> Eksplorasi Data</h3>
<p>Untuk mengetahui multikolinearitas pada prediktor digunakan yaitu VIF. Sintaks untuk menghitung VIF setiap prediktor sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Multikolinier </span></span>
<span><span class="va">model</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Y</span><span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X2</span><span class="op">+</span><span class="va">X3</span><span class="op">+</span><span class="va">X4</span><span class="op">+</span><span class="va">X5</span><span class="op">+</span><span class="va">X6</span><span class="op">+</span><span class="va">X7</span><span class="op">+</span><span class="va">X8</span>,data<span class="op">=</span><span class="va">gabung</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/vif.html">vif</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    [,1]</span></span>
<span><span class="co">#&gt; X1 1.48</span></span>
<span><span class="co">#&gt; X2 1.38</span></span>
<span><span class="co">#&gt; X3 5.74</span></span>
<span><span class="co">#&gt; X4 2.31</span></span>
<span><span class="co">#&gt; X5 2.84</span></span>
<span><span class="co">#&gt; X6 1.96</span></span>
<span><span class="co">#&gt; X7 1.35</span></span>
<span><span class="co">#&gt; X8 5.68</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pada output terlihat nilai VIF dari prediktor lebih kecil dari 10, sehingga disimpulkan tidak terdapat multikolinearitas pada prediktor. &nbsp;<br>
&nbsp;<br>
Untuk mengetahui efek dependensi spasial pada persentase kasus DBD secara eksploratif dapat menggunakan peta pola tebaran data. Sintaks untuk membuat peta tematik sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Peta persentase kasus DBD</span></span>
<span><span class="va">plotDBD</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">gabung</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">Y</span>, </span>
<span>       breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.12</span>, <span class="fl">0.18</span>, <span class="fl">0.25</span>, <span class="fl">0.40</span>, <span class="fl">0.73</span>, <span class="fl">1.54</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">longlat</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>       <span class="va">longlat</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>,label<span class="op">=</span><span class="va">KECAMATAN.y</span><span class="op">)</span>,size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_fill_brewer</a></span><span class="op">(</span><span class="st">"Presentase Kasus DBD"</span>, </span>
<span>       palette <span class="op">=</span> <span class="st">"RdPu"</span>, </span>
<span>       labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0.12% - 0.18%"</span>, <span class="st">"0.18% - 0.25%"</span>, </span>
<span>       <span class="st">"0.25% - 0.40%"</span>, <span class="st">"0.40% - 0.73%"</span>, <span class="st">"0.73% - 1.54%"</span><span class="op">)</span>, </span>
<span>       direction <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> </span>
<span><span class="va">plotDBD</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-plot-dbd" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-plot-dbd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-SpasialDurbinModel_files/figure-html/fig-plot-dbd-1.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-dbd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Gambar&nbsp;2.1: Peta persentase kasus DBD
</figcaption></figure>
</div>
</div>
</div>
<p>Pada peta persentase kasus DBD (<a href="#fig-plot-dbd" class="quarto-xref">Gambar&nbsp;<span>2.1</span></a>) terlihat kecamatan yang berdekatan memiliki warna yang sama. Warna pada peta tampak mengelompok.Perubahan warna antar kelompok mengikuti gradasi warna, yaitu kecamatan yang warna yang pekat berdekatan dengan warna yang lebih terang. Hal ini menunjukkan bahwa autokorelasi spasial pada persentase kasus DBD DKI Jakarta tahun 2014. &nbsp;<br>
&nbsp;<br>
Pemeriksaan pencilan pada peubah Y menggunakan diagram kotak-garis. Sintaks untuk membuat diagram kotak-garis sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Membuat fungsi untuk menemukan outlier</span></span>
<span><span class="va">findoutlier</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">.25</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1.5</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">.75</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1.5</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co"># </span></span>
<span><span class="co">#Membuat kolom baru pada data DBD yang berisi Nama Kecamatan j</span></span>
<span><span class="co">#jika nilai Y merupakan outlier, dan NA jika bukan outlier</span></span>
<span><span class="va">DBD</span> <span class="op">&lt;-</span> <span class="va">DBD</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>outlier <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu">findoutlier</span><span class="op">(</span><span class="va">Y</span><span class="op">)</span>, <span class="va">KECAMATAN</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Membuat boxplot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">DBD</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Y</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#EF562D"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Y</span><span class="op">-</span><span class="fl">0.95</span>, y <span class="op">=</span> <span class="fl">1.06</span>, label <span class="op">=</span> <span class="va">outlier</span><span class="op">)</span>,</span>
<span>            na.rm<span class="op">=</span><span class="cn">TRUE</span>, hjust<span class="op">=</span><span class="op">-</span><span class="fl">.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.8</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Y"</span>, y <span class="op">=</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_light</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 row containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-plot-box2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-plot-box2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02-SpasialDurbinModel_files/figure-html/fig-plot-box2-1.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-box2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Gambar&nbsp;2.2: Boxplot virus Dengue
</figcaption></figure>
</div>
</div>
</div>
<p>Pada diagram kotak garis <a href="#fig-plot-box2" class="quarto-xref">Gambar&nbsp;<span>2.2</span></a> terlihat bahwa kecamatan Kelapa Gading memiliki persentase penderita infeksi virus Dengue tertinggi dan merupakan amatan pencilan. Oleh karena itu, pemeriksaan efek depedensi spasial dan efek keheterogenan spasial dilakukan pada data semua kecamatan (Model 1) dan data tanpa Kecamatan Kelapa Gading (Model 2).</p>
</section><section id="matriks-pembobot-spasial" class="level3" data-number="2.3.4"><h3 data-number="2.3.4" class="anchored" data-anchor-id="matriks-pembobot-spasial">
<span class="header-section-number">2.3.4</span> Matriks Pembobot Spasial</h3>
<p>Sintaks untuk membuat matriks pembobot spasial langka ratu untuk Model 1 dan Model 2 sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Membentuk dataset tanpa pencilan</span></span>
<span><span class="va">gabung2</span> <span class="op">&lt;-</span> <span class="va">gabung</span><span class="op">[</span><span class="va">gabung</span><span class="op">$</span><span class="va">KECAMATAN.y</span> <span class="op">!=</span> <span class="st">"KELAPA GADING"</span>, <span class="op">]</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Matriks pembobot spasial Model 1</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/s2.html">sf_use_s2</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Spherical geometry (s2) switched off</span></span>
<span><span class="va">W.queen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/poly2nb.html">poly2nb</a></span><span class="op">(</span><span class="va">gabung</span>, queen <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">queen.listw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/nb2listw.html">nb2listw</a></span><span class="op">(</span><span class="va">W.queen</span>, style <span class="op">=</span> <span class="st">'W'</span>, zero.policy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">queen.listw</span><span class="op">)</span></span>
<span><span class="co">#&gt; Characteristics of weights list object:</span></span>
<span><span class="co">#&gt; Neighbour list object:</span></span>
<span><span class="co">#&gt; Number of regions: 42 </span></span>
<span><span class="co">#&gt; Number of nonzero links: 212 </span></span>
<span><span class="co">#&gt; Percentage nonzero weights: 12 </span></span>
<span><span class="co">#&gt; Average number of links: 5.05 </span></span>
<span><span class="co">#&gt; Link number distribution:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  2  3  4  5  6  7  8 </span></span>
<span><span class="co">#&gt;  1  8  5  9 13  5  1 </span></span>
<span><span class="co">#&gt; 1 least connected region:</span></span>
<span><span class="co">#&gt; 14 with 2 links</span></span>
<span><span class="co">#&gt; 1 most connected region:</span></span>
<span><span class="co">#&gt; 22 with 8 links</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Weights style: W </span></span>
<span><span class="co">#&gt; Weights constants summary:</span></span>
<span><span class="co">#&gt;    n   nn S0   S1  S2</span></span>
<span><span class="co">#&gt; W 42 1764 42 17.6 172</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Matriks pembobot spasial Model 2</span></span>
<span><span class="va">W.queen2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/poly2nb.html">poly2nb</a></span><span class="op">(</span><span class="va">gabung2</span>, queen <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">queen.listw2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/nb2listw.html">nb2listw</a></span><span class="op">(</span><span class="va">W.queen2</span>, style <span class="op">=</span> <span class="st">'W'</span>, zero.policy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Characteristics of weights list object:</span></span>
<span><span class="co">#&gt; Neighbour list object:</span></span>
<span><span class="co">#&gt; Number of regions: 41 </span></span>
<span><span class="co">#&gt; Number of nonzero links: 198 </span></span>
<span><span class="co">#&gt; Percentage nonzero weights: 11.8 </span></span>
<span><span class="co">#&gt; Average number of links: 4.83 </span></span>
<span><span class="co">#&gt; Link number distribution:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  2  3  4  5  6  7  8 </span></span>
<span><span class="co">#&gt;  3  8  3 11 12  3  1 </span></span>
<span><span class="co">#&gt; 3 least connected regions:</span></span>
<span><span class="co">#&gt; 4 5 13 with 2 links</span></span>
<span><span class="co">#&gt; 1 most connected region:</span></span>
<span><span class="co">#&gt; 21 with 8 links</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Weights style: W </span></span>
<span><span class="co">#&gt; Weights constants summary:</span></span>
<span><span class="co">#&gt;    n   nn S0   S1  S2</span></span>
<span><span class="co">#&gt; W 41 1681 41 18.5 167</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="efek-spasial" class="level3" data-number="2.3.5"><h3 data-number="2.3.5" class="anchored" data-anchor-id="efek-spasial">
<span class="header-section-number">2.3.5</span> Efek Spasial</h3>
<p>Perhitungan indeks Moran dan uji efek heterogenitas spasial dilakukan pada Model 1 dan Model 2 dengan menggunakan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Regresi untuk Model 1 </span></span>
<span><span class="va">Model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X1</span> <span class="op">+</span> <span class="va">X2</span> <span class="op">+</span> <span class="va">X3</span> <span class="op">+</span> <span class="va">X4</span> <span class="op">+</span> <span class="va">X5</span> <span class="op">+</span> <span class="va">X6</span> <span class="op">+</span> <span class="va">X7</span> <span class="op">+</span> <span class="va">X8</span>, data <span class="op">=</span> <span class="va">gabung</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Pemeriksaan efek spasial Model 1</span></span>
<span><span class="va">moran1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung</span><span class="op">$</span><span class="va">Y</span>, <span class="va">queen.listw</span><span class="op">)</span></span>
<span><span class="va">moranerr1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/lm.morantest.html">lm.morantest</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">queen.listw</span><span class="op">)</span></span>
<span><span class="va">bp1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lmtest/man/bptest.html">bptest</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Regresi untuk Model 2</span></span>
<span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">X1</span> <span class="op">+</span> <span class="va">X2</span> <span class="op">+</span> <span class="va">X3</span> <span class="op">+</span> <span class="va">X4</span> <span class="op">+</span> <span class="va">X5</span> <span class="op">+</span> <span class="va">X6</span> <span class="op">+</span> <span class="va">X7</span> <span class="op">+</span> <span class="va">X8</span>, data <span class="op">=</span> <span class="va">gabung2</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Pemeriksaan efek spasial Model 2</span></span>
<span><span class="va">moran2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">Y</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranerr2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/lm.morantest.html">lm.morantest</a></span><span class="op">(</span><span class="va">model2</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">bp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lmtest/man/bptest.html">bptest</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#Ringkasan</span></span>
<span><span class="va">IMoran</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Nilai p Uji BP"</span>,</span>
<span>    <span class="st">"Indeks Moran Y"</span>,</span>
<span>    <span class="st">"Nilai p Indeks Moran Y"</span>,</span>
<span>    <span class="st">"Indeks Moran Sisaan"</span>,</span>
<span>    <span class="st">"Nilai p Indeks Moran Sisaan"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">bp1</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moran1</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moran1</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranerr1</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranerr1</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">bp2</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moran2</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moran2</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranerr2</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranerr2</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  byrow <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Keterangan"</span>,</span>
<span>                         <span class="st">"Model 1"</span>, <span class="st">"Model 2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">IMoran</span></span>
<span><span class="co">#&gt;                    Keterangan Model.1 Model.2</span></span>
<span><span class="co">#&gt; 1              Nilai p Uji BP       0    0.08</span></span>
<span><span class="co">#&gt; 2              Indeks Moran Y   -0.01    0.38</span></span>
<span><span class="co">#&gt; 3      Nilai p Indeks Moran Y    0.44       0</span></span>
<span><span class="co">#&gt; 4         Indeks Moran Sisaan   -0.13   -0.11</span></span>
<span><span class="co">#&gt; 5 Nilai p Indeks Moran Sisaan     0.8    0.69</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Berdasarkan hasil uji Indeks Moran dan Uji Breusch Pagan dapat disimpulkan bahwa Model 1 memiliki ragam yang heterogen. Untuk Model 2 hanya memiliki autokorelasi spasial pada peubah responnya. Pada ilustrasi ini hanya dilakukan pembahasan untuk Model 2.</p>
<p>Pengujian efek dependensi spasial menggunakan uji Lagrange Multiplier dengan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Uji LM dan RLM</span></span>
<span><span class="va">spasial2</span><span class="op">&lt;-</span><span class="fu"><a href="https://r-spatial.github.io/spdep/reference/lm.RStests.html">lm.RStests</a></span><span class="op">(</span><span class="va">model2</span>, <span class="va">queen.listw2</span>, test<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'LMlag'</span>,<span class="st">'LMerr'</span>,<span class="st">'RLMlag'</span>, <span class="st">'RLMerr'</span>,<span class="st">'SARMA'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">spasial2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Rao's score (a.k.a Lagrange multiplier) diagnostics for</span></span>
<span><span class="co">#&gt;  spatial dependence</span></span>
<span><span class="co">#&gt; data:  </span></span>
<span><span class="co">#&gt; model: lm(formula = Y ~ X1 + X2 + X3 + X4 + X5 + X6 + X7 +</span></span>
<span><span class="co">#&gt; X8, data = gabung2)</span></span>
<span><span class="co">#&gt; test weights: queen.listw2</span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;          statistic parameter p.value  </span></span>
<span><span class="co">#&gt; RSerr        1.053         1   0.305  </span></span>
<span><span class="co">#&gt; RSlag        0.266         1   0.606  </span></span>
<span><span class="co">#&gt; adjRSerr     4.901         1   0.027 *</span></span>
<span><span class="co">#&gt; adjRSlag     4.115         1   0.043 *</span></span>
<span><span class="co">#&gt; SARMA        5.167         2   0.075 .</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pada output uji efek spasial terlihat nilai-p dari uji RLMlag dan RLMerr bernilai lebih kecil dari α=0.05 dan SARMA lebih besar dari α=0.05. Berdasarkan hasil uji LM ini maka model yang sesuai untuk data adalah SAR.</p>
</section><section id="efek-dependensi-spasial-pada-prediktor" class="level3" data-number="2.3.6"><h3 data-number="2.3.6" class="anchored" data-anchor-id="efek-dependensi-spasial-pada-prediktor">
<span class="header-section-number">2.3.6</span> Efek dependensi spasial pada prediktor</h3>
<p>Penentuan prediktor yang mempunyai autokorelasi spasial menggunakan indeks Moran dengan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Uji Moran pada prediktor</span></span>
<span><span class="va">moranx1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X1</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X2</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X3</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X4</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X5</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X6</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X7</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">moranx8</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">$</span><span class="va">X8</span>, <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">MoranX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"X1"</span>,</span>
<span>    <span class="st">"X2"</span>,</span>
<span>    <span class="st">"X3"</span>,</span>
<span>    <span class="st">"X4"</span>,</span>
<span>    <span class="st">"X5"</span>,</span>
<span>    <span class="st">"X6"</span>,</span>
<span>    <span class="st">"X7"</span>,</span>
<span>    <span class="st">"X8"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx1</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx2</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx3</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx4</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx5</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx6</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx7</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx8</span><span class="op">$</span><span class="va">estimate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx1</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx2</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx3</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx4</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx5</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx6</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx7</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">moranx8</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  byrow <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Peubah"</span>, <span class="st">"Nilai Indeks Moran"</span>, <span class="st">"Nilai-p"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">MoranX</span></span>
<span><span class="co">#&gt;   Peubah Nilai.Indeks.Moran Nilai.p</span></span>
<span><span class="co">#&gt; 1     X1               0.39       0</span></span>
<span><span class="co">#&gt; 2     X2               0.11    0.07</span></span>
<span><span class="co">#&gt; 3     X3               0.29       0</span></span>
<span><span class="co">#&gt; 4     X4                0.1    0.11</span></span>
<span><span class="co">#&gt; 5     X5               0.32       0</span></span>
<span><span class="co">#&gt; 6     X6               0.05    0.23</span></span>
<span><span class="co">#&gt; 7     X7               0.12    0.06</span></span>
<span><span class="co">#&gt; 8     X8               0.51       0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pada output indeks Moran tampak peubah X1, X3, X5, dan X8 memiliki autokorelasi spasial yang nyata. Oleh karena itu, pada model spasial perlu ditambahkan lag-prediktor (WX). Berdasarkan hasil uji LM dan uji indeks Moran pada prediktor, maka model spasial yang dipilih adalah SAR dan SDM.</p>
</section><section id="pendugaan-parameter-model-sar-dan-sdm" class="level3" data-number="2.3.7"><h3 data-number="2.3.7" class="anchored" data-anchor-id="pendugaan-parameter-model-sar-dan-sdm">
<span class="header-section-number">2.3.7</span> Pendugaan parameter model SAR dan SDM</h3>
<p>Pendugaan parameter model SAR menggunakan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Model SAR</span></span>
<span><span class="va">modelSAR</span><span class="op">&lt;-</span><span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/ML_models.html">lagsarlm</a></span><span class="op">(</span><span class="va">model2</span>,<span class="va">queen.listw2</span>,data<span class="op">=</span><span class="va">gabung2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">modelSAR</span>,Nagelkerke<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lagsarlm(formula = model2, data = gabung2, listw = queen.listw2)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;       Min        1Q    Median        3Q       Max </span></span>
<span><span class="co">#&gt; -0.166406 -0.067211 -0.018407  0.056343  0.228568 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type: lag </span></span>
<span><span class="co">#&gt; Coefficients: (asymptotic standard errors) </span></span>
<span><span class="co">#&gt;                Estimate  Std. Error z value Pr(&gt;|z|)</span></span>
<span><span class="co">#&gt; (Intercept) -1.7862e-02  7.9309e-02 -0.2252 0.821810</span></span>
<span><span class="co">#&gt; X1          -7.7444e-07  1.7298e-06 -0.4477 0.654371</span></span>
<span><span class="co">#&gt; X2          -1.0409e-02  6.5021e-03 -1.6009 0.109395</span></span>
<span><span class="co">#&gt; X3          -1.2592e-02  1.1777e-02 -1.0692 0.284969</span></span>
<span><span class="co">#&gt; X4          -9.7550e-04  3.0611e-03 -0.3187 0.749971</span></span>
<span><span class="co">#&gt; X5           5.3441e-04  1.1327e-03  0.4718 0.637057</span></span>
<span><span class="co">#&gt; X6           8.0145e-03  2.5653e-03  3.1242 0.001783</span></span>
<span><span class="co">#&gt; X7          -1.4708e-05  5.7398e-06 -2.5624 0.010396</span></span>
<span><span class="co">#&gt; X8           6.0165e-03  1.8904e-03  3.1827 0.001459</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Rho: 0.0843, LR test value: 0.246, p-value: 0.62004</span></span>
<span><span class="co">#&gt; Asymptotic standard error: 0.175</span></span>
<span><span class="co">#&gt;     z-value: 0.481, p-value: 0.63032</span></span>
<span><span class="co">#&gt; Wald statistic: 0.232, p-value: 0.63032</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Log likelihood: 40.5 for lag model</span></span>
<span><span class="co">#&gt; ML residual variance (sigma squared): 0.00809, (sigma: 0.0899)</span></span>
<span><span class="co">#&gt; Nagelkerke pseudo-R-squared: 0.676 </span></span>
<span><span class="co">#&gt; Number of observations: 41 </span></span>
<span><span class="co">#&gt; Number of parameters estimated: 11 </span></span>
<span><span class="co">#&gt; AIC: -59.1, (AIC for lm: -60.8)</span></span>
<span><span class="co">#&gt; LM test for residual autocorrelation</span></span>
<span><span class="co">#&gt; test value: 4.75, p-value: 0.029271</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pemodelan SDM dengan lag-prediktor X1, X3, X5, dan X8 menggunakan sintaks berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Model SDM</span></span>
<span><span class="va">modelSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/ML_models.html">lagsarlm</a></span><span class="op">(</span><span class="va">model2</span>, <span class="va">queen.listw2</span>, data <span class="op">=</span> <span class="va">gabung2</span>,</span>
<span>            Durbin <span class="op">=</span> <span class="op">~</span><span class="va">X1</span><span class="op">+</span><span class="va">X3</span><span class="op">+</span><span class="va">X5</span><span class="op">+</span><span class="va">X8</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">modelSDM</span>,Nagelkerke<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lagsarlm(formula = model2, data = gabung2, listw = queen.listw2, </span></span>
<span><span class="co">#&gt;     Durbin = ~X1 + X3 + X5 + X8)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;        Min         1Q     Median         3Q        Max </span></span>
<span><span class="co">#&gt; -0.1283448 -0.0535020 -0.0032732  0.0375121  0.2282186 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type: mixed </span></span>
<span><span class="co">#&gt; Coefficients: (asymptotic standard errors) </span></span>
<span><span class="co">#&gt;                Estimate  Std. Error z value  Pr(&gt;|z|)</span></span>
<span><span class="co">#&gt; (Intercept) -3.1013e-01  1.2316e-01 -2.5181 0.0117992</span></span>
<span><span class="co">#&gt; X1          -1.4365e-06  1.8076e-06 -0.7947 0.4267903</span></span>
<span><span class="co">#&gt; X2          -1.0415e-02  5.9513e-03 -1.7501 0.0801063</span></span>
<span><span class="co">#&gt; X3          -2.6781e-03  1.0746e-02 -0.2492 0.8031808</span></span>
<span><span class="co">#&gt; X4          -3.1492e-03  2.7366e-03 -1.1508 0.2498172</span></span>
<span><span class="co">#&gt; X5           3.9221e-04  1.0200e-03  0.3845 0.7005954</span></span>
<span><span class="co">#&gt; X6           6.5894e-03  2.3690e-03  2.7815 0.0054104</span></span>
<span><span class="co">#&gt; X7          -9.6902e-06  5.5183e-06 -1.7560 0.0790883</span></span>
<span><span class="co">#&gt; X8           3.8520e-03  1.8732e-03  2.0564 0.0397434</span></span>
<span><span class="co">#&gt; lag.X1       6.1233e-06  3.7831e-06  1.6186 0.1055315</span></span>
<span><span class="co">#&gt; lag.X3      -2.2872e-02  2.0222e-02 -1.1310 0.2580552</span></span>
<span><span class="co">#&gt; lag.X5      -3.8736e-03  1.9671e-03 -1.9692 0.0489277</span></span>
<span><span class="co">#&gt; lag.X8       1.3069e-02  3.9530e-03  3.3062 0.0009458</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Rho: -0.309, LR test value: 1.93, p-value: 0.16502</span></span>
<span><span class="co">#&gt; Asymptotic standard error: 0.222</span></span>
<span><span class="co">#&gt;     z-value: -1.39, p-value: 0.16353</span></span>
<span><span class="co">#&gt; Wald statistic: 1.94, p-value: 0.16353</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Log likelihood: 46.8 for mixed model</span></span>
<span><span class="co">#&gt; ML residual variance (sigma squared): 0.00586, (sigma: 0.0766)</span></span>
<span><span class="co">#&gt; Nagelkerke pseudo-R-squared: 0.761 </span></span>
<span><span class="co">#&gt; Number of observations: 41 </span></span>
<span><span class="co">#&gt; Number of parameters estimated: 15 </span></span>
<span><span class="co">#&gt; AIC: -63.5, (AIC for lm: -63.6)</span></span>
<span><span class="co">#&gt; LM test for residual autocorrelation</span></span>
<span><span class="co">#&gt; test value: 0.361, p-value: 0.54821</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="pemeriksaan-asumsi-model-regresi-spasial" class="level3" data-number="2.3.8"><h3 data-number="2.3.8" class="anchored" data-anchor-id="pemeriksaan-asumsi-model-regresi-spasial">
<span class="header-section-number">2.3.8</span> Pemeriksaan asumsi model regresi spasial</h3>
<p>Pemeriksaan asumsi untuk Model SAR dan SDM yang terdiri dari kenormalan sisaan, homogenitas ragam, dan kebebasan sisan menggunakan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Asumsi model SAR</span></span>
<span><span class="va">sisaan.sar</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">resid</a></span><span class="op">(</span><span class="va">modelSAR</span><span class="op">)</span></span>
<span><span class="va">normSAR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span><span class="va">sisaan.sar</span><span class="op">)</span></span>
<span><span class="va">heteSAR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/sarlm_tests.html">bptest.Sarlm</a></span><span class="op">(</span><span class="va">modelSAR</span><span class="op">)</span></span>
<span><span class="va">autoSAR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">sisaan.sar</span>, listw <span class="op">=</span> <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">asumsiSAR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Kenormalan"</span>, </span>
<span>             <span class="st">"Kehomogenan ragam"</span>, <span class="st">"Autokorelasi"</span>, </span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">normSAR</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">heteSAR</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">autoSAR</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             byrow <span class="op">=</span> <span class="cn">F</span>, ncol <span class="op">=</span> <span class="fl">2</span>, dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Uji"</span>, <span class="st">"p-value"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">asumsiSAR</span><span class="op">$</span><span class="va">Kesimpulan</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">asumsiSAR</span><span class="op">$</span><span class="va">p.value</span> <span class="op">&gt;</span> <span class="fl">0.05</span>, <span class="st">"Terpenuhi"</span>, <span class="st">"Tidak Terpenuhi"</span><span class="op">)</span></span>
<span><span class="va">asumsiSAR</span></span>
<span><span class="co">#&gt;                 Uji p.value      Kesimpulan</span></span>
<span><span class="co">#&gt; 1        Kenormalan    0.76       Terpenuhi</span></span>
<span><span class="co">#&gt; 2 Kehomogenan ragam    0.05 Tidak Terpenuhi</span></span>
<span><span class="co">#&gt; 3      Autokorelasi    0.89       Terpenuhi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Asumsi model SDM</span></span>
<span><span class="va">sisaan.SDM</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">resid</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span></span>
<span><span class="va">normSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span><span class="va">sisaan.SDM</span><span class="op">)</span></span>
<span><span class="va">heteSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/sarlm_tests.html">bptest.Sarlm</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span></span>
<span><span class="va">autoSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/moran.test.html">moran.test</a></span><span class="op">(</span><span class="va">sisaan.SDM</span>, listw <span class="op">=</span> <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">asumsiSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Kenormalan"</span>,</span>
<span>             <span class="st">"Kehomogenan ragam"</span>, <span class="st">"Autokorelasi"</span>, </span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">normSDM</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>, </span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">heteSDM</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">autoSDM</span><span class="op">$</span><span class="va">p.value</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, </span>
<span>             byrow <span class="op">=</span> <span class="cn">F</span>, ncol <span class="op">=</span> <span class="fl">2</span>, dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Uji"</span>, <span class="st">"p-value"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">asumsiSDM</span><span class="op">$</span><span class="va">Kesimpulan</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">asumsiSDM</span><span class="op">$</span><span class="va">p.value</span> <span class="op">&gt;</span> <span class="fl">0.05</span>, <span class="st">"Terpenuhi"</span>, <span class="st">"Tidak Terpenuhi"</span><span class="op">)</span></span>
<span><span class="va">asumsiSDM</span></span>
<span><span class="co">#&gt;                 Uji p.value Kesimpulan</span></span>
<span><span class="co">#&gt; 1        Kenormalan    0.33  Terpenuhi</span></span>
<span><span class="co">#&gt; 2 Kehomogenan ragam    0.26  Terpenuhi</span></span>
<span><span class="co">#&gt; 3      Autokorelasi     0.5  Terpenuhi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Berdasarkan hasil pemeriksaan asumsi pada sisaan, model SDM memenuhi seluruh asumsi.</p>
</section><section id="evaluasi-kebaikan-model" class="level3" data-number="2.3.9"><h3 data-number="2.3.9" class="anchored" data-anchor-id="evaluasi-kebaikan-model">
<span class="header-section-number">2.3.9</span> Evaluasi kebaikan model</h3>
<p>Evaluasi kebaikan model menggunakan nilai AIC dan Pseudo R-Square dengan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Nilai AIC dan Pseudo-R2</span></span>
<span><span class="va">sumSAR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">modelSAR</span>, Nagelkerke<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">sumSDM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">modelSDM</span>, Nagelkerke<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">evaluasi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Model SAR"</span>, <span class="st">"Model SDM"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/AIC.html">AIC</a></span><span class="op">(</span><span class="va">modelSAR</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/AIC.html">AIC</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">sumSAR</span><span class="op">$</span><span class="va">NK</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">sumSDM</span><span class="op">$</span><span class="va">NK</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  byrow <span class="op">=</span> <span class="cn">F</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">evaluasi</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Model"</span>, <span class="st">"AIC"</span>, <span class="st">"Pseudo-R2"</span><span class="op">)</span></span>
<span><span class="va">evaluasi</span></span>
<span><span class="co">#&gt;       Model    AIC Pseudo-R2</span></span>
<span><span class="co">#&gt; 1 Model SAR -59.09      0.68</span></span>
<span><span class="co">#&gt; 2 Model SDM -63.53      0.76</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pada output terlihat model SDM dibandingkan SAR mempunyai nilai AIC yang lebih rendah dan nilai Pseudo R-Square yang lebih tinggi. &nbsp;<br>
&nbsp;<br>
Pemilihan model yang lebih efisien antara SAR dan SDM dapat menggunakan uji Likelihood Ratio (LR). Uji LR antara SAR dan SDM digunakan untuk mengetahui efek penambahan lag-X pada SAR. Sintaks untuk uji LR sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Uji LR SAR dan SDM</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/sarlm_tests.html">LR.Sarlm</a></span><span class="op">(</span><span class="va">modelSAR</span>, <span class="va">modelSDM</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Likelihood ratio for spatial linear models</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; data:  </span></span>
<span><span class="co">#&gt; Likelihood ratio = -12, df = 4, p-value = 0.01</span></span>
<span><span class="co">#&gt; sample estimates:</span></span>
<span><span class="co">#&gt; Log likelihood of modelSAR Log likelihood of modelSDM </span></span>
<span><span class="co">#&gt;                       40.5                       46.8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pada output uji LR terlihat model SDM lebih efisien dibandingkan model SAR. Model SDM memenuhi semua asumsi pada sisaan, sehingga model SDM merupakan model yang terbaik untuk data infeksi virus Dengue di Jakarta.</p>
</section><section id="interpretasi-model-terbaik" class="level3" data-number="2.3.10"><h3 data-number="2.3.10" class="anchored" data-anchor-id="interpretasi-model-terbaik">
<span class="header-section-number">2.3.10</span> Interpretasi model terbaik</h3>
<p>Interpretasi model SDM dilakukan dengan menentukan nilai efek marginal dari setiap prediktor dengan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Efek marginal</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">2</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="co"># Untuk mengatur digit desimal dari output yang akan dikeluarkan</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/impacts.html">impacts</a></span><span class="op">(</span><span class="va">modelSDM</span>, listw <span class="op">=</span> <span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Impact measures (mixed, exact):</span></span>
<span><span class="co">#&gt;        Direct   Indirect      Total</span></span>
<span><span class="co">#&gt; X1 -0.0000019  0.0000054  0.0000036</span></span>
<span><span class="co">#&gt; X2 -0.0106211  0.0026671 -0.0079539</span></span>
<span><span class="co">#&gt; X3 -0.0012705 -0.0182413 -0.0195118</span></span>
<span><span class="co">#&gt; X4 -0.0032115  0.0008065 -0.0024050</span></span>
<span><span class="co">#&gt; X5  0.0006473 -0.0033060 -0.0026587</span></span>
<span><span class="co">#&gt; X6  0.0067197 -0.0016874  0.0050322</span></span>
<span><span class="co">#&gt; X7 -0.0000099  0.0000025 -0.0000074</span></span>
<span><span class="co">#&gt; X8  0.0030936  0.0098290  0.0129226</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Berdasarkan output efek marginal terlihat bahwa TE positif tertinggi (0.0129226) berasal dari peubah rasio sekolah dasar per 100.000 penduduk (X8), sedangkan TE negatif terkecil (-0.0195118) berasal dari peubah rasio puskesmas per 100.000 penduduk (X3). TE peubah rasio sekolah dasar per 100.000 penduduk (X8) sebesar 0.0129226, artinya kenaikan satu persen X8 akan menaikkan sebanyak 0.0129226 persen kasus infeksi virus Dengue. DE X8 merupakan total efek dari perubahan pada X8 di suatu lokasi berdampak pada lokasi yang sama sebesar 0.0030936. IE X8 sebesar 0.0098290 merupakan total efek dari perubahan satu persen X8 di di suatu lokasi pada lokasi lainnya. &nbsp;<br>
&nbsp;&nbsp; Efek marginal dapat diuraikan berdasarkan daerah dan peubahnya. Berikut sintaks yang dapat digunakan untuk menguraikan efek marginal untuk prediktor X8:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Membuat Matriks S untuk Peubah X8</span></span>
<span><span class="va">rho</span> <span class="op">&lt;-</span> <span class="va">modelSDM</span><span class="op">$</span><span class="va">rho</span></span>
<span><span class="va">beta_hat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">11</span>,<span class="fl">12</span>,<span class="fl">13</span>,<span class="fl">14</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spatialreg/reference/invIrM.html">invIrW</a></span><span class="op">(</span><span class="va">queen.listw2</span>, rho <span class="op">=</span> <span class="va">rho</span><span class="op">)</span> <span class="co"># (I - rho*W)^{-1}</span></span>
<span><span class="va">b8</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">beta_hat</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">1</span>, ncol <span class="op">=</span> <span class="fl">41</span>, nrow <span class="op">=</span> <span class="fl">41</span><span class="op">)</span></span>
<span><span class="va">wgamma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/nb2mat.html">listw2mat</a></span><span class="op">(</span><span class="va">queen.listw2</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span><span class="op">[</span><span class="fl">14</span><span class="op">]</span> <span class="op">*</span> <span class="va">i</span><span class="op">)</span></span>
<span><span class="va">mat_s</span> <span class="op">&lt;-</span>  <span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="op">(</span><span class="va">b8</span> <span class="op">*</span> <span class="va">i</span> <span class="op">+</span> <span class="va">wgamma</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Efek langsung</span></span>
<span><span class="va">de</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">mat_s</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Efek tidak langsung</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">mat_s</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">ie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">mat_s</span><span class="op">)</span> </span>
<span></span>
<span><span class="co">#Efek total</span></span>
<span><span class="va">te</span> <span class="op">&lt;-</span> <span class="va">de</span><span class="op">+</span><span class="va">ie</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Efek marginal dari prediktor X1 untuk setiap kecamatan DKI Jakarta berbeda-beda. Untuk memudahkan penyajian efek marginal disajikan dalam bentuk peta dengan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Menggabungkan hasil uraian efek dengan data peta</span></span>
<span><span class="va">gabung2</span><span class="op">$</span><span class="va">de</span> <span class="op">&lt;-</span> <span class="va">de</span></span>
<span><span class="va">gabung2</span><span class="op">$</span><span class="va">ie</span> <span class="op">&lt;-</span> <span class="va">ie</span></span>
<span><span class="va">gabung2</span><span class="op">$</span><span class="va">te</span> <span class="op">&lt;-</span> <span class="va">te</span></span>
<span></span>
<span><span class="co">#Plot Efek Langsung X8</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">de</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous</a></span><span class="op">(</span><span class="st">"Efek Langsung X8"</span>, trans <span class="op">=</span> <span class="st">'reverse'</span>,</span>
<span>  guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">guide_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-SpasialDurbinModel_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Pada peta efek langsung terlihat mayoritas kecamatan di DKI Jakarta berwarna biru gelap (nilai DE 0.028-0.032), kecuali kecamatan Koja, Cilincing dan Cakung yang berwarna biru muda (nilai DE 0.022).</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Plot Efek Tidak Langsung X8</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ie</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous</a></span><span class="op">(</span><span class="st">"Efek Tidak Langsung X8"</span>, </span>
<span>  trans <span class="op">=</span> <span class="st">'reverse'</span>, guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">guide_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-SpasialDurbinModel_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Pada peta efek langsung terlihat mayoritas kecamatan di DKI Jakarta berwarna biru muda (nilai DE 0.0099-0.0102), kecuali kecamatan Koja, Cilincing dan Cakung yang berwarna biru tua (nilai DE 0.0105). Peta DE dan peta IE tampak merupakan kebalikan satu sama lain.</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Plot Total Efek X8</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gabung2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">te</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous</a></span><span class="op">(</span><span class="st">"Total Efek X8"</span>, </span>
<span>  guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">guide_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-SpasialDurbinModel_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Untuk menentukan efek besarnya perubahan Y di kecamatan DKI Jakarta akibat kenaikan nilai prediktor X8 di Kecamatan Kalideres sebesar 1% dapat dihitung menggunakan sintaks sebagai berikut:</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Nilai dugaan Y sebelum ada kenaikan nilai</span></span>
<span><span class="va">DBD_up</span> <span class="op">&lt;-</span> <span class="va">DBD</span><span class="op">[</span><span class="va">DBD</span><span class="op">$</span><span class="va">KECAMATAN</span> <span class="op">!=</span> <span class="st">'KELAPA GADING'</span>,<span class="op">]</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">DBD_up</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">11</span><span class="op">]</span><span class="op">)</span> </span>
<span><span class="va">gamma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html">coef</a></span><span class="op">(</span><span class="va">modelSDM</span><span class="op">)</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">14</span><span class="op">]</span>, nrow <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">X_2</span> <span class="op">&lt;-</span> <span class="va">DBD_up</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'X1'</span>, <span class="st">'X3'</span>, <span class="st">'X5'</span>, <span class="st">'X8'</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">X_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">X_2</span><span class="op">)</span></span>
<span><span class="va">matw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/spdep/reference/nb2mat.html">listw2mat</a></span><span class="op">(</span><span class="va">queen.listw2</span><span class="op">)</span></span>
<span><span class="va">y_hat_pre</span> <span class="op">&lt;-</span> <span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/matrix-products.html">crossprod</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, <span class="va">beta_hat</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">matw</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">X_2</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">gamma</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Data Kec. Kalideres naikdengan kenaikan nilai</span></span>
<span><span class="va">DBD_new</span> <span class="op">&lt;-</span> <span class="va">DBD_up</span></span>
<span><span class="va">DBD_new</span><span class="op">[</span><span class="va">DBD_new</span><span class="op">$</span><span class="va">KECAMATAN</span> <span class="op">==</span> <span class="st">'KALI DERES'</span>, <span class="st">"X8"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">72</span></span>
<span></span>
<span><span class="co">#Nilai dugaan Y setelah ada kenaikan nilai</span></span>
<span><span class="va">X_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">DBD_new</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">11</span><span class="op">]</span><span class="op">)</span> </span>
<span><span class="va">X_2_d</span> <span class="op">&lt;-</span> <span class="va">DBD_new</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'X1'</span>, <span class="st">'X3'</span>, <span class="st">'X5'</span>, <span class="st">'X8'</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">X_2_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">X_2_d</span><span class="op">)</span></span>
<span><span class="va">y_hat_post</span> <span class="op">&lt;-</span> <span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/matrix-products.html">crossprod</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">X_d</span><span class="op">)</span>, <span class="va">beta_hat</span><span class="op">)</span> <span class="op">+</span> </span>
<span>             <span class="op">(</span><span class="va">matw</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">X_2_d</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">gamma</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Perubahan nilai</span></span>
<span><span class="va">delta_y</span> <span class="op">&lt;-</span> <span class="va">y_hat_post</span> <span class="op">-</span> <span class="va">y_hat_pre</span></span>
<span><span class="va">DBD_new</span><span class="op">$</span><span class="va">delta_y</span> <span class="op">&lt;-</span> <span class="va">delta_y</span></span>
<span></span>
<span><span class="co">#Plot perubahan nilai</span></span>
<span><span class="va">gabung.new</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">shp.jkt</span>, <span class="va">DBD_new</span>, by <span class="op">=</span> <span class="st">"KODE2010"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">gabung.new</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">delta_y</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_continuous.html">scale_fill_continuous</a></span><span class="op">(</span><span class="st">"Perubahan Nilai"</span>,trans <span class="op">=</span> <span class="st">'reverse'</span>,</span>
<span>                        guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">guide_legend</a></span><span class="op">(</span>reverse <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="02-SpasialDurbinModel_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Pada peta perubahan nilai Y (kasus DBD) terlihat Kecamatan Kalideres (warna biru pekat) mempunyai kenaikan kasus DBD terbesar dibandingkan kecamatan lainnya di DKI Jakarta. Pada peta terlihat tetangga Kecamatan Kalideres tidak mengalami perubahan kasus DBD. Beberapa kecamatan yang letaknya jauh dari Kecamatan Kalideres tampak berwarna biru tua, hal ini karena adanya efek dependensi pada prediktor X8.</p>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-febriyanti2016" class="csl-entry" role="listitem">
Ramadhani, Febriyanti Esa. 2016. <em>Penerapan Model Regresi Spasial Pada Kasus Infeksi Virus Dengue Di DKI Jakarta</em>. <em>[Skripsi]</em>. Bogor: Institut Pertanian Bogor.
</div>
</div>
</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/statistika-spasial\.github\.io\/book");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./01-SpasialAutoRegresifModel.html" class="pagination-link" aria-label="Spasial Autoregresif Model">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Spasial Autoregresif Model</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-SpasialAutoRegresifBinomialNegatif.html" class="pagination-link" aria-label="Spasial Autoregresif Binomial Negatif">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Spasial Autoregresif Binomial Negatif</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb24" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Spasial Durbin Model  {#sec-sd-model}</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"_common.R"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>Ilustrasi model spasial Durbin (**Spatial Durbin Model/SDM**) bersumber dari penelitian @febriyanti2016. Kasus yang diteliti adalah tentang infeksi virus Dengue di kecamatan  DKI Jakarta. Peubah yang digunakan dan sumber data selengkapnya disajikan pada @tbl-sdm. Data dan peta ilustrasi SDM tersedia pada tautan <span class="co">[</span><span class="ot">https://ipb.link/sdm</span><span class="co">](https://ipb.link/sdm)</span>. </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>| Peubah   | Nama Peubah                                          | Sumber        |</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>|--------|-------------------------------------------------|-----------------------|</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>| $Y$    | Persentase penderita infeksi virus Dengue per kecamatan di DKI Jakarta tahun 2014 (\%)                         | Dinas Kesehatan DKI Jakarta 2014                     |</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>| $X_1$  | Kepadatan penduduk per kecamatan di DKI Jakarta tahun 2014 (Jiwa/km\textsuperscript{2})                        | Dinas Kependudukan dan Pencatatan Sipil DKI Jakarta 2014 |</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>| $X_2$  | Rasio rumah sakit dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)           | Potensi Desa (PODES) BPS RI 2014 |</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>| $X_3$  | Rasio puskesmas dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)             | Potensi Desa (PODES) BPS RI 2014 |</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>| $X_4$  | Rasio poliklinik dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)            | Potensi Desa (PODES) BPS RI 2014 |</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>| $X_5$  | Rasio tempat praktik dokter dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa) | Potensi Desa (PODES) BPS RI 2014       |</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>| $X_6$  | Rasio apotek dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)                | Potensi Desa (PODES) BPS RI 2014   |</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>| $X_7$  | Rasio keluarga yang tinggal di pemukiman kumuh dengan jumlah penduduk per kecamatan di DKI Jakarta tahun 2014 (unit/100,000 jiwa)  | Potensi Desa (PODES) BPS RI 2014 |</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>| $X_8$  | Rasio sekolah dasar dengan sekolah lain per kecamatan di DKI Jakarta tahun 2014                                | Potensi Desa (PODES) BPS RI 2014       |</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>: Daftar Peubah dan Sumber Data {#tbl-sdm .striped .hover}</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## Metode Analisis</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>Langkah-langkah metode analisis data pada penelitian ini adalah sebagai berikut:</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="ss">  1. </span>Melakukan eksplorasi data untuk memeriksa multikolinearitas pada prediktor yang digunakan dengan variance inflation factors (VIF), menentukan efek spasial secara eksploratif dengan peta tematik, dan memeriksa pencilan spasial dengan menggunakan diagram kotak garis dan plot pencaran Moran.</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a><span class="ss">  2. </span>Membuat matriks pembobot spasial ($W$) dengan metode pembobotan *Queen Contiguity*.</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a><span class="ss">  3. </span>Menguji efek  spasial: </span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>      a) depedensi spasial pada peubah respon dan sisaan dari model regresi linier berganda dengan indeks Moran.</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>      b) Menguji kehomogenan ragam sisaan model regresi klasik dengan uji Breusch-Pagan. </span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>      c) Pemilihan model depedensi spasial menggunakan uji pengganda Lagrange (Lagrange Multiplier/LM).</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a><span class="ss">  4. </span>Memeriksa efek depedensi spasial pada prediktor dengan indeks Moran.</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a><span class="ss">  5. </span>Menduga parameter model regresi spasial sesuai hasil butir (3) dan (4). </span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a><span class="ss">  6. </span>Memeriksa asumsi pada model regresi spasial pada butir (5).</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a><span class="ss">  7. </span>Mengukur kebaikan model dengan pseudo $R^2$ dan AIC.</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a><span class="ss">  8. </span>Interpretasi Model terbaik.</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tahapan Analisis Data dengan R</span></span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>Tahap awal dalam pemodelan menggunakan R Studio adalah melakukan input data dan install package yang dibutuhkan untuk analisis.</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a><span class="fu">### Package</span></span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{r cache=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a><span class="in">library(readxl)         # Untuk import data format .xlsx</span></span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a><span class="in">library(car)        # Untuk menghitung nilai VIF</span></span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a><span class="in">library(spdep)      # Untuk pemodelan dependensi spasial</span></span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a><span class="in">library(spatialreg) # Untuk pemodelan dependensi spasial</span></span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a><span class="in">library(lmtest)     # Untuk pengujian asumsi</span></span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a><span class="in">library(DataExplorer)   # Untuk visualisasi data</span></span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)            # Untuk visualisasi data</span></span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)      # Untuk mengolah dataset</span></span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a><span class="fu">### Input Data</span></span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-69"><a href="#cb24-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-70"><a href="#cb24-70" aria-hidden="true" tabindex="-1"></a><span class="co">#Set Lokasi File</span></span>
<span id="cb24-71"><a href="#cb24-71" aria-hidden="true" tabindex="-1"></a><span class="co">#Input Data</span></span>
<span id="cb24-72"><a href="#cb24-72" aria-hidden="true" tabindex="-1"></a>DBD<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">'data/3100_data.xlsx'</span>)</span>
<span id="cb24-73"><a href="#cb24-73" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-74"><a href="#cb24-74" aria-hidden="true" tabindex="-1"></a><span class="co">#Menyamakan tipe data dengan file shp</span></span>
<span id="cb24-75"><a href="#cb24-75" aria-hidden="true" tabindex="-1"></a>DBD<span class="sc">$</span>KODE2010 <span class="ot">&lt;-</span> <span class="fu">as.character</span>(DBD<span class="sc">$</span>KODE2010) </span>
<span id="cb24-76"><a href="#cb24-76" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-77"><a href="#cb24-77" aria-hidden="true" tabindex="-1"></a><span class="co">#Rasio SD per 100 000 penduduk</span></span>
<span id="cb24-78"><a href="#cb24-78" aria-hidden="true" tabindex="-1"></a>DBD<span class="sc">$</span>PSD <span class="ot">&lt;-</span> (DBD<span class="sc">$</span>SD<span class="sc">/</span>DBD<span class="sc">$</span>JUMLAHPENDUDUK)<span class="sc">*</span><span class="dv">100000</span> </span>
<span id="cb24-79"><a href="#cb24-79" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(DBD)[<span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">17</span>, <span class="dv">18</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">24</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'X1'</span>,<span class="st">'X2'</span>,<span class="st">'X3'</span>,<span class="st">'X4'</span>,<span class="st">'X5'</span>,<span class="st">'X6'</span>,<span class="st">'X7'</span>,<span class="st">'X8'</span>)</span>
<span id="cb24-80"><a href="#cb24-80" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-81"><a href="#cb24-81" aria-hidden="true" tabindex="-1"></a><span class="co">#Merapikan dataframe</span></span>
<span id="cb24-82"><a href="#cb24-82" aria-hidden="true" tabindex="-1"></a>DBD <span class="ot">&lt;-</span> DBD[<span class="fu">c</span>(<span class="st">'KODE2010'</span>, <span class="st">'KECAMATAN'</span>, <span class="st">'Y'</span>, <span class="st">'X1'</span>, <span class="st">'X2'</span>, <span class="st">'X3'</span>, <span class="st">'X4'</span>, </span>
<span id="cb24-83"><a href="#cb24-83" aria-hidden="true" tabindex="-1"></a>     <span class="st">'X5'</span>, <span class="st">'X6'</span>, <span class="st">'X7'</span>, <span class="st">'X8'</span>)]</span>
<span id="cb24-84"><a href="#cb24-84" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb24-85"><a href="#cb24-85" aria-hidden="true" tabindex="-1"></a><span class="co">#Input peta SHP</span></span>
<span id="cb24-86"><a href="#cb24-86" aria-hidden="true" tabindex="-1"></a>shp.jkt <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"data/shp/3100_kec.shp"</span>)</span>
<span id="cb24-87"><a href="#cb24-87" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb24-88"><a href="#cb24-88" aria-hidden="true" tabindex="-1"></a><span class="co">#Menggabungkan Data ke file SHP</span></span>
<span id="cb24-89"><a href="#cb24-89" aria-hidden="true" tabindex="-1"></a>gabung <span class="ot">=</span> <span class="fu">inner_join</span>(shp.jkt, DBD, <span class="at">by =</span> <span class="st">"KODE2010"</span>)</span>
<span id="cb24-90"><a href="#cb24-90" aria-hidden="true" tabindex="-1"></a>longlat<span class="ot">=</span><span class="fu">st_coordinates</span>(<span class="fu">st_centroid</span>(gabung))</span>
<span id="cb24-91"><a href="#cb24-91" aria-hidden="true" tabindex="-1"></a>gabung</span>
<span id="cb24-92"><a href="#cb24-92" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-93"><a href="#cb24-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-94"><a href="#cb24-94" aria-hidden="true" tabindex="-1"></a><span class="fu">### Eksplorasi Data</span></span>
<span id="cb24-95"><a href="#cb24-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-96"><a href="#cb24-96" aria-hidden="true" tabindex="-1"></a>Untuk mengetahui multikolinearitas pada prediktor digunakan yaitu VIF. Sintaks  untuk menghitung VIF setiap prediktor sebagai berikut:</span>
<span id="cb24-97"><a href="#cb24-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-100"><a href="#cb24-100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-101"><a href="#cb24-101" aria-hidden="true" tabindex="-1"></a><span class="co">#Multikolinier </span></span>
<span id="cb24-102"><a href="#cb24-102" aria-hidden="true" tabindex="-1"></a>model<span class="ot">&lt;-</span><span class="fu">lm</span>(Y<span class="sc">~</span>X1<span class="sc">+</span>X2<span class="sc">+</span>X3<span class="sc">+</span>X4<span class="sc">+</span>X5<span class="sc">+</span>X6<span class="sc">+</span>X7<span class="sc">+</span>X8,<span class="at">data=</span>gabung)</span>
<span id="cb24-103"><a href="#cb24-103" aria-hidden="true" tabindex="-1"></a><span class="fu">as.matrix</span>(<span class="fu">vif</span>(model))</span>
<span id="cb24-104"><a href="#cb24-104" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-105"><a href="#cb24-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-106"><a href="#cb24-106" aria-hidden="true" tabindex="-1"></a>Pada output terlihat nilai VIF dari prediktor lebih kecil dari 10, sehingga disimpulkan tidak terdapat multikolinearitas pada prediktor. \ \</span>
<span id="cb24-107"><a href="#cb24-107" aria-hidden="true" tabindex="-1"></a>\ \</span>
<span id="cb24-108"><a href="#cb24-108" aria-hidden="true" tabindex="-1"></a>Untuk mengetahui efek dependensi spasial pada persentase kasus DBD secara eksploratif dapat menggunakan peta pola tebaran data. Sintaks untuk membuat peta tematik sebagai berikut:</span>
<span id="cb24-109"><a href="#cb24-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-112"><a href="#cb24-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-113"><a href="#cb24-113" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-plot-dbd</span></span>
<span id="cb24-114"><a href="#cb24-114" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Peta persentase kasus DBD"</span></span>
<span id="cb24-115"><a href="#cb24-115" aria-hidden="true" tabindex="-1"></a><span class="co">#Peta persentase kasus DBD</span></span>
<span id="cb24-116"><a href="#cb24-116" aria-hidden="true" tabindex="-1"></a>plotDBD <span class="ot">=</span> <span class="fu">ggplot</span>(<span class="at">data=</span>gabung) <span class="sc">+</span></span>
<span id="cb24-117"><a href="#cb24-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">cut</span>(Y, </span>
<span id="cb24-118"><a href="#cb24-118" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.12</span>, <span class="fl">0.18</span>, <span class="fl">0.25</span>, <span class="fl">0.40</span>, <span class="fl">0.73</span>, <span class="fl">1.54</span>)))) <span class="sc">+</span></span>
<span id="cb24-119"><a href="#cb24-119" aria-hidden="true" tabindex="-1"></a>       <span class="fu">geom_text</span>(<span class="fu">aes</span>(longlat[,<span class="dv">1</span>],</span>
<span id="cb24-120"><a href="#cb24-120" aria-hidden="true" tabindex="-1"></a>       longlat[,<span class="dv">2</span>],<span class="at">label=</span>KECAMATAN.y),<span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb24-121"><a href="#cb24-121" aria-hidden="true" tabindex="-1"></a>       <span class="fu">scale_fill_brewer</span>(<span class="st">"Presentase Kasus DBD"</span>, </span>
<span id="cb24-122"><a href="#cb24-122" aria-hidden="true" tabindex="-1"></a>       <span class="at">palette =</span> <span class="st">"RdPu"</span>, </span>
<span id="cb24-123"><a href="#cb24-123" aria-hidden="true" tabindex="-1"></a>       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0.12% - 0.18%"</span>, <span class="st">"0.18% - 0.25%"</span>, </span>
<span id="cb24-124"><a href="#cb24-124" aria-hidden="true" tabindex="-1"></a>       <span class="st">"0.25% - 0.40%"</span>, <span class="st">"0.40% - 0.73%"</span>, <span class="st">"0.73% - 1.54%"</span>), </span>
<span id="cb24-125"><a href="#cb24-125" aria-hidden="true" tabindex="-1"></a>       <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb24-126"><a href="#cb24-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb24-127"><a href="#cb24-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">""</span>) </span>
<span id="cb24-128"><a href="#cb24-128" aria-hidden="true" tabindex="-1"></a>plotDBD</span>
<span id="cb24-129"><a href="#cb24-129" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-130"><a href="#cb24-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-131"><a href="#cb24-131" aria-hidden="true" tabindex="-1"></a>Pada peta persentase kasus DBD (@fig-plot-dbd) terlihat kecamatan yang berdekatan memiliki warna yang sama. Warna pada peta tampak mengelompok.Perubahan warna antar kelompok mengikuti gradasi warna, yaitu kecamatan yang warna yang pekat berdekatan dengan warna yang lebih terang. Hal ini menunjukkan bahwa autokorelasi spasial pada persentase kasus DBD DKI Jakarta tahun 2014. \ \</span>
<span id="cb24-132"><a href="#cb24-132" aria-hidden="true" tabindex="-1"></a>\ \</span>
<span id="cb24-133"><a href="#cb24-133" aria-hidden="true" tabindex="-1"></a>Pemeriksaan pencilan pada peubah Y menggunakan diagram kotak-garis. Sintaks untuk membuat diagram kotak-garis sebagai berikut:</span>
<span id="cb24-134"><a href="#cb24-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-137"><a href="#cb24-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-138"><a href="#cb24-138" aria-hidden="true" tabindex="-1"></a><span class="co">#Membuat fungsi untuk menemukan outlier</span></span>
<span id="cb24-139"><a href="#cb24-139" aria-hidden="true" tabindex="-1"></a>findoutlier <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb24-140"><a href="#cb24-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">&lt;</span> <span class="fu">quantile</span>(x, .<span class="dv">25</span>) <span class="sc">-</span> <span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(x) <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="fu">quantile</span>(x, .<span class="dv">75</span>) <span class="sc">+</span> <span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(x))</span>
<span id="cb24-141"><a href="#cb24-141" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-142"><a href="#cb24-142" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb24-143"><a href="#cb24-143" aria-hidden="true" tabindex="-1"></a><span class="co">#Membuat kolom baru pada data DBD yang berisi Nama Kecamatan j</span></span>
<span id="cb24-144"><a href="#cb24-144" aria-hidden="true" tabindex="-1"></a><span class="co">#jika nilai Y merupakan outlier, dan NA jika bukan outlier</span></span>
<span id="cb24-145"><a href="#cb24-145" aria-hidden="true" tabindex="-1"></a>DBD <span class="ot">&lt;-</span> DBD <span class="sc">%&gt;%</span></span>
<span id="cb24-146"><a href="#cb24-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outlier =</span> <span class="fu">ifelse</span>(<span class="fu">findoutlier</span>(Y), KECAMATAN, <span class="cn">NA</span>))</span>
<span id="cb24-147"><a href="#cb24-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-148"><a href="#cb24-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-149"><a href="#cb24-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-152"><a href="#cb24-152" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-153"><a href="#cb24-153" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-plot-box2</span></span>
<span id="cb24-154"><a href="#cb24-154" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Boxplot virus Dengue"</span></span>
<span id="cb24-155"><a href="#cb24-155" aria-hidden="true" tabindex="-1"></a><span class="co">#Membuat boxplot</span></span>
<span id="cb24-156"><a href="#cb24-156" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(DBD) <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">x =</span> Y, <span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb24-157"><a href="#cb24-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"#EF562D"</span>) <span class="sc">+</span></span>
<span id="cb24-158"><a href="#cb24-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> Y<span class="fl">-0.95</span>, <span class="at">y =</span> <span class="fl">1.06</span>, <span class="at">label =</span> outlier),</span>
<span id="cb24-159"><a href="#cb24-159" aria-hidden="true" tabindex="-1"></a>            <span class="at">na.rm=</span><span class="cn">TRUE</span>, <span class="at">hjust=</span><span class="sc">-</span>.<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb24-160"><a href="#cb24-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.8</span>))<span class="sc">+</span></span>
<span id="cb24-161"><a href="#cb24-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Y"</span>, <span class="at">y =</span><span class="st">""</span>) <span class="sc">+</span> <span class="fu">theme_light</span>()</span>
<span id="cb24-162"><a href="#cb24-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-163"><a href="#cb24-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-164"><a href="#cb24-164" aria-hidden="true" tabindex="-1"></a>Pada diagram kotak garis @fig-plot-box2 terlihat bahwa kecamatan Kelapa Gading memiliki persentase penderita infeksi virus Dengue tertinggi dan merupakan amatan pencilan. Oleh karena  itu, pemeriksaan efek depedensi spasial dan efek keheterogenan spasial dilakukan pada data semua kecamatan (Model 1) dan data tanpa Kecamatan Kelapa Gading (Model 2).</span>
<span id="cb24-165"><a href="#cb24-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-166"><a href="#cb24-166" aria-hidden="true" tabindex="-1"></a><span class="fu">### Matriks Pembobot Spasial</span></span>
<span id="cb24-167"><a href="#cb24-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-168"><a href="#cb24-168" aria-hidden="true" tabindex="-1"></a>Sintaks untuk membuat matriks pembobot spasial langka ratu untuk Model 1 dan Model 2 sebagai berikut:</span>
<span id="cb24-169"><a href="#cb24-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-172"><a href="#cb24-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-173"><a href="#cb24-173" aria-hidden="true" tabindex="-1"></a><span class="co">#Membentuk dataset tanpa pencilan</span></span>
<span id="cb24-174"><a href="#cb24-174" aria-hidden="true" tabindex="-1"></a>gabung2 <span class="ot">&lt;-</span> gabung[gabung<span class="sc">$</span>KECAMATAN.y <span class="sc">!=</span> <span class="st">"KELAPA GADING"</span>, ]</span>
<span id="cb24-175"><a href="#cb24-175" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-176"><a href="#cb24-176" aria-hidden="true" tabindex="-1"></a><span class="co">#Matriks pembobot spasial Model 1</span></span>
<span id="cb24-177"><a href="#cb24-177" aria-hidden="true" tabindex="-1"></a><span class="fu">sf_use_s2</span>(<span class="cn">FALSE</span>)</span>
<span id="cb24-178"><a href="#cb24-178" aria-hidden="true" tabindex="-1"></a>W.queen <span class="ot">&lt;-</span> <span class="fu">poly2nb</span>(gabung, <span class="at">queen =</span> T)</span>
<span id="cb24-179"><a href="#cb24-179" aria-hidden="true" tabindex="-1"></a>queen.listw <span class="ot">&lt;-</span> <span class="fu">nb2listw</span>(W.queen, <span class="at">style =</span> <span class="st">'W'</span>, <span class="at">zero.policy =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-180"><a href="#cb24-180" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(queen.listw)</span>
<span id="cb24-181"><a href="#cb24-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-182"><a href="#cb24-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-183"><a href="#cb24-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-186"><a href="#cb24-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-187"><a href="#cb24-187" aria-hidden="true" tabindex="-1"></a><span class="co">#Matriks pembobot spasial Model 2</span></span>
<span id="cb24-188"><a href="#cb24-188" aria-hidden="true" tabindex="-1"></a>W.queen2 <span class="ot">&lt;-</span> <span class="fu">poly2nb</span>(gabung2, <span class="at">queen =</span> T)</span>
<span id="cb24-189"><a href="#cb24-189" aria-hidden="true" tabindex="-1"></a>queen.listw2 <span class="ot">&lt;-</span> <span class="fu">nb2listw</span>(W.queen2, <span class="at">style =</span> <span class="st">'W'</span>, <span class="at">zero.policy =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-190"><a href="#cb24-190" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(queen.listw2)</span>
<span id="cb24-191"><a href="#cb24-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-192"><a href="#cb24-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-193"><a href="#cb24-193" aria-hidden="true" tabindex="-1"></a><span class="fu">### Efek Spasial</span></span>
<span id="cb24-194"><a href="#cb24-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-195"><a href="#cb24-195" aria-hidden="true" tabindex="-1"></a>Perhitungan indeks Moran dan uji efek heterogenitas spasial dilakukan pada Model 1 dan Model 2 dengan menggunakan sintaks sebagai berikut:</span>
<span id="cb24-196"><a href="#cb24-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-199"><a href="#cb24-199" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-200"><a href="#cb24-200" aria-hidden="true" tabindex="-1"></a><span class="co">#Regresi untuk Model 1 </span></span>
<span id="cb24-201"><a href="#cb24-201" aria-hidden="true" tabindex="-1"></a>Model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> X1 <span class="sc">+</span> X2 <span class="sc">+</span> X3 <span class="sc">+</span> X4 <span class="sc">+</span> X5 <span class="sc">+</span> X6 <span class="sc">+</span> X7 <span class="sc">+</span> X8, <span class="at">data =</span> gabung)</span>
<span id="cb24-202"><a href="#cb24-202" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-203"><a href="#cb24-203" aria-hidden="true" tabindex="-1"></a><span class="co">#Pemeriksaan efek spasial Model 1</span></span>
<span id="cb24-204"><a href="#cb24-204" aria-hidden="true" tabindex="-1"></a>moran1 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung<span class="sc">$</span>Y, queen.listw)</span>
<span id="cb24-205"><a href="#cb24-205" aria-hidden="true" tabindex="-1"></a>moranerr1 <span class="ot">&lt;-</span> <span class="fu">lm.morantest</span>(model, queen.listw)</span>
<span id="cb24-206"><a href="#cb24-206" aria-hidden="true" tabindex="-1"></a>bp1 <span class="ot">&lt;-</span> <span class="fu">bptest</span>(model)</span>
<span id="cb24-207"><a href="#cb24-207" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-208"><a href="#cb24-208" aria-hidden="true" tabindex="-1"></a><span class="co">#Regresi untuk Model 2</span></span>
<span id="cb24-209"><a href="#cb24-209" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> X1 <span class="sc">+</span> X2 <span class="sc">+</span> X3 <span class="sc">+</span> X4 <span class="sc">+</span> X5 <span class="sc">+</span> X6 <span class="sc">+</span> X7 <span class="sc">+</span> X8, <span class="at">data =</span> gabung2)</span>
<span id="cb24-210"><a href="#cb24-210" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-211"><a href="#cb24-211" aria-hidden="true" tabindex="-1"></a><span class="co">#Pemeriksaan efek spasial Model 2</span></span>
<span id="cb24-212"><a href="#cb24-212" aria-hidden="true" tabindex="-1"></a>moran2 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>Y, queen.listw2)</span>
<span id="cb24-213"><a href="#cb24-213" aria-hidden="true" tabindex="-1"></a>moranerr2 <span class="ot">&lt;-</span> <span class="fu">lm.morantest</span>(model2, queen.listw2)</span>
<span id="cb24-214"><a href="#cb24-214" aria-hidden="true" tabindex="-1"></a>bp2 <span class="ot">&lt;-</span> <span class="fu">bptest</span>(model2)</span>
<span id="cb24-215"><a href="#cb24-215" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb24-216"><a href="#cb24-216" aria-hidden="true" tabindex="-1"></a><span class="co">#Ringkasan</span></span>
<span id="cb24-217"><a href="#cb24-217" aria-hidden="true" tabindex="-1"></a>IMoran <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(</span>
<span id="cb24-218"><a href="#cb24-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb24-219"><a href="#cb24-219" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nilai p Uji BP"</span>,</span>
<span id="cb24-220"><a href="#cb24-220" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Indeks Moran Y"</span>,</span>
<span id="cb24-221"><a href="#cb24-221" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nilai p Indeks Moran Y"</span>,</span>
<span id="cb24-222"><a href="#cb24-222" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Indeks Moran Sisaan"</span>,</span>
<span id="cb24-223"><a href="#cb24-223" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nilai p Indeks Moran Sisaan"</span>,</span>
<span id="cb24-224"><a href="#cb24-224" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(bp1<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-225"><a href="#cb24-225" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moran1<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-226"><a href="#cb24-226" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moran1<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-227"><a href="#cb24-227" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranerr1<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-228"><a href="#cb24-228" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranerr1<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-229"><a href="#cb24-229" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(bp2<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-230"><a href="#cb24-230" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moran2<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-231"><a href="#cb24-231" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moran2<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-232"><a href="#cb24-232" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranerr2<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-233"><a href="#cb24-233" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranerr2<span class="sc">$</span>p.value, <span class="dv">2</span>)</span>
<span id="cb24-234"><a href="#cb24-234" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb24-235"><a href="#cb24-235" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> F,</span>
<span id="cb24-236"><a href="#cb24-236" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb24-237"><a href="#cb24-237" aria-hidden="true" tabindex="-1"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">"Keterangan"</span>,</span>
<span id="cb24-238"><a href="#cb24-238" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Model 1"</span>, <span class="st">"Model 2"</span>))</span>
<span id="cb24-239"><a href="#cb24-239" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb24-240"><a href="#cb24-240" aria-hidden="true" tabindex="-1"></a>IMoran</span>
<span id="cb24-241"><a href="#cb24-241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-242"><a href="#cb24-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-243"><a href="#cb24-243" aria-hidden="true" tabindex="-1"></a>Berdasarkan hasil uji Indeks Moran dan Uji Breusch Pagan dapat disimpulkan bahwa Model 1 memiliki ragam yang heterogen. Untuk Model 2 hanya memiliki autokorelasi spasial pada peubah responnya. Pada ilustrasi ini hanya dilakukan pembahasan untuk Model 2.</span>
<span id="cb24-244"><a href="#cb24-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-245"><a href="#cb24-245" aria-hidden="true" tabindex="-1"></a>Pengujian efek dependensi spasial menggunakan uji Lagrange Multiplier dengan sintaks sebagai berikut:</span>
<span id="cb24-246"><a href="#cb24-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-249"><a href="#cb24-249" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-250"><a href="#cb24-250" aria-hidden="true" tabindex="-1"></a><span class="co">#Uji LM dan RLM</span></span>
<span id="cb24-251"><a href="#cb24-251" aria-hidden="true" tabindex="-1"></a>spasial2<span class="ot">&lt;-</span><span class="fu">lm.RStests</span>(model2, queen.listw2, <span class="at">test=</span><span class="fu">c</span>(<span class="st">'LMlag'</span>,<span class="st">'LMerr'</span>,<span class="st">'RLMlag'</span>, <span class="st">'RLMerr'</span>,<span class="st">'SARMA'</span>))</span>
<span id="cb24-252"><a href="#cb24-252" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(spasial2)</span>
<span id="cb24-253"><a href="#cb24-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-254"><a href="#cb24-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-255"><a href="#cb24-255" aria-hidden="true" tabindex="-1"></a>Pada output uji efek spasial terlihat nilai-p dari uji RLMlag dan RLMerr bernilai lebih kecil dari α=0.05 dan SARMA lebih besar dari α=0.05. Berdasarkan hasil uji LM ini maka model yang sesuai untuk data adalah SAR.</span>
<span id="cb24-256"><a href="#cb24-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-257"><a href="#cb24-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-258"><a href="#cb24-258" aria-hidden="true" tabindex="-1"></a><span class="fu">### Efek dependensi spasial pada prediktor</span></span>
<span id="cb24-259"><a href="#cb24-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-260"><a href="#cb24-260" aria-hidden="true" tabindex="-1"></a>Penentuan prediktor yang mempunyai autokorelasi spasial menggunakan indeks Moran dengan sintaks sebagai berikut:</span>
<span id="cb24-261"><a href="#cb24-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-264"><a href="#cb24-264" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-265"><a href="#cb24-265" aria-hidden="true" tabindex="-1"></a><span class="co">#Uji Moran pada prediktor</span></span>
<span id="cb24-266"><a href="#cb24-266" aria-hidden="true" tabindex="-1"></a>moranx1 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X1, queen.listw2)</span>
<span id="cb24-267"><a href="#cb24-267" aria-hidden="true" tabindex="-1"></a>moranx2 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X2, queen.listw2)</span>
<span id="cb24-268"><a href="#cb24-268" aria-hidden="true" tabindex="-1"></a>moranx3 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X3, queen.listw2)</span>
<span id="cb24-269"><a href="#cb24-269" aria-hidden="true" tabindex="-1"></a>moranx4 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X4, queen.listw2)</span>
<span id="cb24-270"><a href="#cb24-270" aria-hidden="true" tabindex="-1"></a>moranx5 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X5, queen.listw2)</span>
<span id="cb24-271"><a href="#cb24-271" aria-hidden="true" tabindex="-1"></a>moranx6 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X6, queen.listw2)</span>
<span id="cb24-272"><a href="#cb24-272" aria-hidden="true" tabindex="-1"></a>moranx7 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X7, queen.listw2)</span>
<span id="cb24-273"><a href="#cb24-273" aria-hidden="true" tabindex="-1"></a>moranx8 <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(gabung2<span class="sc">$</span>X8, queen.listw2)</span>
<span id="cb24-274"><a href="#cb24-274" aria-hidden="true" tabindex="-1"></a>MoranX <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(</span>
<span id="cb24-275"><a href="#cb24-275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb24-276"><a href="#cb24-276" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X1"</span>,</span>
<span id="cb24-277"><a href="#cb24-277" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X2"</span>,</span>
<span id="cb24-278"><a href="#cb24-278" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X3"</span>,</span>
<span id="cb24-279"><a href="#cb24-279" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X4"</span>,</span>
<span id="cb24-280"><a href="#cb24-280" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X5"</span>,</span>
<span id="cb24-281"><a href="#cb24-281" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X6"</span>,</span>
<span id="cb24-282"><a href="#cb24-282" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X7"</span>,</span>
<span id="cb24-283"><a href="#cb24-283" aria-hidden="true" tabindex="-1"></a>    <span class="st">"X8"</span>,</span>
<span id="cb24-284"><a href="#cb24-284" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx1<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-285"><a href="#cb24-285" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx2<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-286"><a href="#cb24-286" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx3<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-287"><a href="#cb24-287" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx4<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-288"><a href="#cb24-288" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx5<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-289"><a href="#cb24-289" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx6<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-290"><a href="#cb24-290" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx7<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-291"><a href="#cb24-291" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx8<span class="sc">$</span>estimate[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb24-292"><a href="#cb24-292" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx1<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-293"><a href="#cb24-293" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx2<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-294"><a href="#cb24-294" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx3<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-295"><a href="#cb24-295" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx4<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-296"><a href="#cb24-296" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx5<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-297"><a href="#cb24-297" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx6<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-298"><a href="#cb24-298" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx7<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-299"><a href="#cb24-299" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(moranx8<span class="sc">$</span>p.value, <span class="dv">2</span>)</span>
<span id="cb24-300"><a href="#cb24-300" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb24-301"><a href="#cb24-301" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> F,</span>
<span id="cb24-302"><a href="#cb24-302" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb24-303"><a href="#cb24-303" aria-hidden="true" tabindex="-1"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb24-304"><a href="#cb24-304" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="st">"Peubah"</span>, <span class="st">"Nilai Indeks Moran"</span>, <span class="st">"Nilai-p"</span>))</span>
<span id="cb24-305"><a href="#cb24-305" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb24-306"><a href="#cb24-306" aria-hidden="true" tabindex="-1"></a>MoranX</span>
<span id="cb24-307"><a href="#cb24-307" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-308"><a href="#cb24-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-309"><a href="#cb24-309" aria-hidden="true" tabindex="-1"></a>Pada output indeks Moran tampak peubah X1, X3, X5, dan X8 memiliki autokorelasi spasial yang nyata. Oleh karena itu, pada model spasial perlu ditambahkan lag-prediktor (WX). Berdasarkan hasil uji LM dan uji indeks Moran pada prediktor, maka model spasial yang dipilih adalah SAR dan SDM.</span>
<span id="cb24-310"><a href="#cb24-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-311"><a href="#cb24-311" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pendugaan parameter model SAR dan SDM</span></span>
<span id="cb24-312"><a href="#cb24-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-313"><a href="#cb24-313" aria-hidden="true" tabindex="-1"></a>Pendugaan parameter model SAR menggunakan sintaks sebagai berikut:</span>
<span id="cb24-314"><a href="#cb24-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-317"><a href="#cb24-317" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-318"><a href="#cb24-318" aria-hidden="true" tabindex="-1"></a><span class="co">#Model SAR</span></span>
<span id="cb24-319"><a href="#cb24-319" aria-hidden="true" tabindex="-1"></a>modelSAR<span class="ot">&lt;-</span><span class="fu">lagsarlm</span>(model2,queen.listw2,<span class="at">data=</span>gabung2)</span>
<span id="cb24-320"><a href="#cb24-320" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelSAR,<span class="at">Nagelkerke=</span>T)</span>
<span id="cb24-321"><a href="#cb24-321" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-322"><a href="#cb24-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-323"><a href="#cb24-323" aria-hidden="true" tabindex="-1"></a>Pemodelan SDM dengan lag-prediktor X1, X3, X5, dan X8 menggunakan sintaks berikut:</span>
<span id="cb24-324"><a href="#cb24-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-327"><a href="#cb24-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-328"><a href="#cb24-328" aria-hidden="true" tabindex="-1"></a><span class="co">#Model SDM</span></span>
<span id="cb24-329"><a href="#cb24-329" aria-hidden="true" tabindex="-1"></a>modelSDM <span class="ot">&lt;-</span> <span class="fu">lagsarlm</span>(model2, queen.listw2, <span class="at">data =</span> gabung2,</span>
<span id="cb24-330"><a href="#cb24-330" aria-hidden="true" tabindex="-1"></a>            <span class="at">Durbin =</span> <span class="sc">~</span>X1<span class="sc">+</span>X3<span class="sc">+</span>X5<span class="sc">+</span>X8)</span>
<span id="cb24-331"><a href="#cb24-331" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(modelSDM,<span class="at">Nagelkerke=</span>T)</span>
<span id="cb24-332"><a href="#cb24-332" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-333"><a href="#cb24-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-334"><a href="#cb24-334" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pemeriksaan asumsi model regresi spasial</span></span>
<span id="cb24-335"><a href="#cb24-335" aria-hidden="true" tabindex="-1"></a>Pemeriksaan asumsi untuk Model SAR dan SDM yang terdiri dari kenormalan sisaan, homogenitas ragam, dan kebebasan sisan menggunakan sintaks sebagai berikut:</span>
<span id="cb24-336"><a href="#cb24-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-339"><a href="#cb24-339" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-340"><a href="#cb24-340" aria-hidden="true" tabindex="-1"></a><span class="co">#Asumsi model SAR</span></span>
<span id="cb24-341"><a href="#cb24-341" aria-hidden="true" tabindex="-1"></a>sisaan.sar<span class="ot">&lt;-</span><span class="fu">resid</span>(modelSAR)</span>
<span id="cb24-342"><a href="#cb24-342" aria-hidden="true" tabindex="-1"></a>normSAR <span class="ot">&lt;-</span> <span class="fu">shapiro.test</span>(sisaan.sar)</span>
<span id="cb24-343"><a href="#cb24-343" aria-hidden="true" tabindex="-1"></a>heteSAR <span class="ot">&lt;-</span> <span class="fu">bptest.Sarlm</span>(modelSAR)</span>
<span id="cb24-344"><a href="#cb24-344" aria-hidden="true" tabindex="-1"></a>autoSAR <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(sisaan.sar, <span class="at">listw =</span> queen.listw2)</span>
<span id="cb24-345"><a href="#cb24-345" aria-hidden="true" tabindex="-1"></a>asumsiSAR <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">"Kenormalan"</span>, </span>
<span id="cb24-346"><a href="#cb24-346" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Kehomogenan ragam"</span>, <span class="st">"Autokorelasi"</span>, </span>
<span id="cb24-347"><a href="#cb24-347" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(normSAR<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-348"><a href="#cb24-348" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(heteSAR<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-349"><a href="#cb24-349" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(autoSAR<span class="sc">$</span>p.value, <span class="dv">2</span>)), </span>
<span id="cb24-350"><a href="#cb24-350" aria-hidden="true" tabindex="-1"></a>             <span class="at">byrow =</span> F, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb24-351"><a href="#cb24-351" aria-hidden="true" tabindex="-1"></a>             <span class="fu">c</span>(<span class="st">"Uji"</span>, <span class="st">"p-value"</span>))))</span>
<span id="cb24-352"><a href="#cb24-352" aria-hidden="true" tabindex="-1"></a>asumsiSAR<span class="sc">$</span>Kesimpulan <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(asumsiSAR<span class="sc">$</span>p.value <span class="sc">&gt;</span> <span class="fl">0.05</span>, <span class="st">"Terpenuhi"</span>, <span class="st">"Tidak Terpenuhi"</span>)</span>
<span id="cb24-353"><a href="#cb24-353" aria-hidden="true" tabindex="-1"></a>asumsiSAR</span>
<span id="cb24-354"><a href="#cb24-354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-355"><a href="#cb24-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-358"><a href="#cb24-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-359"><a href="#cb24-359" aria-hidden="true" tabindex="-1"></a><span class="co">#Asumsi model SDM</span></span>
<span id="cb24-360"><a href="#cb24-360" aria-hidden="true" tabindex="-1"></a>sisaan.SDM<span class="ot">&lt;-</span><span class="fu">resid</span>(modelSDM)</span>
<span id="cb24-361"><a href="#cb24-361" aria-hidden="true" tabindex="-1"></a>normSDM <span class="ot">&lt;-</span> <span class="fu">shapiro.test</span>(sisaan.SDM)</span>
<span id="cb24-362"><a href="#cb24-362" aria-hidden="true" tabindex="-1"></a>heteSDM <span class="ot">&lt;-</span> <span class="fu">bptest.Sarlm</span>(modelSDM)</span>
<span id="cb24-363"><a href="#cb24-363" aria-hidden="true" tabindex="-1"></a>autoSDM <span class="ot">&lt;-</span> <span class="fu">moran.test</span>(sisaan.SDM, <span class="at">listw =</span> queen.listw2)</span>
<span id="cb24-364"><a href="#cb24-364" aria-hidden="true" tabindex="-1"></a>asumsiSDM <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">"Kenormalan"</span>,</span>
<span id="cb24-365"><a href="#cb24-365" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Kehomogenan ragam"</span>, <span class="st">"Autokorelasi"</span>, </span>
<span id="cb24-366"><a href="#cb24-366" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(normSDM<span class="sc">$</span>p.value, <span class="dv">2</span>), </span>
<span id="cb24-367"><a href="#cb24-367" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(heteSDM<span class="sc">$</span>p.value, <span class="dv">2</span>),</span>
<span id="cb24-368"><a href="#cb24-368" aria-hidden="true" tabindex="-1"></a>             <span class="fu">round</span>(autoSDM<span class="sc">$</span>p.value, <span class="dv">2</span>)), </span>
<span id="cb24-369"><a href="#cb24-369" aria-hidden="true" tabindex="-1"></a>             <span class="at">byrow =</span> F, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb24-370"><a href="#cb24-370" aria-hidden="true" tabindex="-1"></a>             <span class="fu">c</span>(<span class="st">"Uji"</span>, <span class="st">"p-value"</span>))))</span>
<span id="cb24-371"><a href="#cb24-371" aria-hidden="true" tabindex="-1"></a>asumsiSDM<span class="sc">$</span>Kesimpulan <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(asumsiSDM<span class="sc">$</span>p.value <span class="sc">&gt;</span> <span class="fl">0.05</span>, <span class="st">"Terpenuhi"</span>, <span class="st">"Tidak Terpenuhi"</span>)</span>
<span id="cb24-372"><a href="#cb24-372" aria-hidden="true" tabindex="-1"></a>asumsiSDM</span>
<span id="cb24-373"><a href="#cb24-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-374"><a href="#cb24-374" aria-hidden="true" tabindex="-1"></a>Berdasarkan hasil pemeriksaan asumsi pada sisaan,  model SDM memenuhi seluruh asumsi.</span>
<span id="cb24-375"><a href="#cb24-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-376"><a href="#cb24-376" aria-hidden="true" tabindex="-1"></a><span class="fu">### Evaluasi kebaikan model</span></span>
<span id="cb24-377"><a href="#cb24-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-378"><a href="#cb24-378" aria-hidden="true" tabindex="-1"></a>Evaluasi kebaikan model menggunakan nilai AIC dan Pseudo R-Square dengan sintaks sebagai berikut:</span>
<span id="cb24-381"><a href="#cb24-381" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-382"><a href="#cb24-382" aria-hidden="true" tabindex="-1"></a><span class="co">#Nilai AIC dan Pseudo-R2</span></span>
<span id="cb24-383"><a href="#cb24-383" aria-hidden="true" tabindex="-1"></a>sumSAR <span class="ot">&lt;-</span> <span class="fu">summary</span>(modelSAR, <span class="at">Nagelkerke=</span>T)</span>
<span id="cb24-384"><a href="#cb24-384" aria-hidden="true" tabindex="-1"></a>sumSDM <span class="ot">&lt;-</span> <span class="fu">summary</span>(modelSDM, <span class="at">Nagelkerke=</span>T)</span>
<span id="cb24-385"><a href="#cb24-385" aria-hidden="true" tabindex="-1"></a>evaluasi <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(</span>
<span id="cb24-386"><a href="#cb24-386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"Model SAR"</span>, <span class="st">"Model SDM"</span>,</span>
<span id="cb24-387"><a href="#cb24-387" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">AIC</span>(modelSAR),<span class="dv">2</span>),</span>
<span id="cb24-388"><a href="#cb24-388" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">AIC</span>(modelSDM),<span class="dv">2</span>),</span>
<span id="cb24-389"><a href="#cb24-389" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(sumSAR<span class="sc">$</span>NK,<span class="dv">2</span>), <span class="fu">round</span>(sumSDM<span class="sc">$</span>NK,<span class="dv">2</span>)),</span>
<span id="cb24-390"><a href="#cb24-390" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> F, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>))</span>
<span id="cb24-391"><a href="#cb24-391" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(evaluasi) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Model"</span>, <span class="st">"AIC"</span>, <span class="st">"Pseudo-R2"</span>)</span>
<span id="cb24-392"><a href="#cb24-392" aria-hidden="true" tabindex="-1"></a>evaluasi</span>
<span id="cb24-393"><a href="#cb24-393" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-394"><a href="#cb24-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-395"><a href="#cb24-395" aria-hidden="true" tabindex="-1"></a>Pada output terlihat model SDM dibandingkan SAR mempunyai nilai AIC yang lebih rendah dan nilai Pseudo R-Square yang lebih tinggi. \ \</span>
<span id="cb24-396"><a href="#cb24-396" aria-hidden="true" tabindex="-1"></a>\ \</span>
<span id="cb24-397"><a href="#cb24-397" aria-hidden="true" tabindex="-1"></a>Pemilihan model yang lebih efisien antara SAR dan SDM dapat menggunakan uji Likelihood Ratio (LR). Uji LR antara SAR dan SDM digunakan untuk mengetahui efek penambahan lag-X pada SAR. Sintaks untuk uji LR sebagai berikut:</span>
<span id="cb24-398"><a href="#cb24-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-401"><a href="#cb24-401" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-402"><a href="#cb24-402" aria-hidden="true" tabindex="-1"></a><span class="co">#Uji LR SAR dan SDM</span></span>
<span id="cb24-403"><a href="#cb24-403" aria-hidden="true" tabindex="-1"></a><span class="fu">LR.Sarlm</span>(modelSAR, modelSDM)</span>
<span id="cb24-404"><a href="#cb24-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-405"><a href="#cb24-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-406"><a href="#cb24-406" aria-hidden="true" tabindex="-1"></a>Pada output uji LR terlihat model SDM lebih efisien dibandingkan model SAR. Model SDM memenuhi semua asumsi pada sisaan, sehingga model SDM merupakan model yang terbaik untuk data infeksi virus Dengue di Jakarta.</span>
<span id="cb24-407"><a href="#cb24-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-408"><a href="#cb24-408" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interpretasi model terbaik</span></span>
<span id="cb24-409"><a href="#cb24-409" aria-hidden="true" tabindex="-1"></a>Interpretasi model SDM dilakukan dengan menentukan nilai efek marginal dari setiap prediktor dengan sintaks sebagai berikut:</span>
<span id="cb24-410"><a href="#cb24-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-413"><a href="#cb24-413" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-414"><a href="#cb24-414" aria-hidden="true" tabindex="-1"></a><span class="co">#Efek marginal</span></span>
<span id="cb24-415"><a href="#cb24-415" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">2</span>, <span class="at">digits =</span> <span class="dv">2</span>) <span class="co"># Untuk mengatur digit desimal dari output yang akan dikeluarkan</span></span>
<span id="cb24-416"><a href="#cb24-416" aria-hidden="true" tabindex="-1"></a><span class="fu">impacts</span>(modelSDM, <span class="at">listw =</span> queen.listw2)</span>
<span id="cb24-417"><a href="#cb24-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-418"><a href="#cb24-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-419"><a href="#cb24-419" aria-hidden="true" tabindex="-1"></a>Berdasarkan output efek marginal terlihat bahwa TE positif tertinggi (0.0129226) berasal dari peubah rasio sekolah dasar per 100.000 penduduk (X8), sedangkan TE negatif terkecil (-0.0195118) berasal dari peubah rasio puskesmas per 100.000 penduduk (X3). TE peubah rasio sekolah dasar per 100.000 penduduk (X8) sebesar 0.0129226, artinya kenaikan satu persen X8 akan menaikkan sebanyak 0.0129226 persen kasus infeksi virus Dengue. DE X8 merupakan total efek dari perubahan pada X8 di suatu lokasi berdampak pada lokasi yang sama sebesar 0.0030936. IE X8 sebesar 0.0098290 merupakan total efek dari perubahan satu persen X8 di di suatu lokasi pada lokasi lainnya. \ \</span>
<span id="cb24-420"><a href="#cb24-420" aria-hidden="true" tabindex="-1"></a>\ \ </span>
<span id="cb24-421"><a href="#cb24-421" aria-hidden="true" tabindex="-1"></a>Efek marginal dapat diuraikan berdasarkan daerah dan peubahnya. Berikut sintaks yang dapat digunakan untuk menguraikan efek marginal untuk prediktor X8:</span>
<span id="cb24-422"><a href="#cb24-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-425"><a href="#cb24-425" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-426"><a href="#cb24-426" aria-hidden="true" tabindex="-1"></a><span class="co">#Membuat Matriks S untuk Peubah X8</span></span>
<span id="cb24-427"><a href="#cb24-427" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> modelSDM<span class="sc">$</span>rho</span>
<span id="cb24-428"><a href="#cb24-428" aria-hidden="true" tabindex="-1"></a>beta_hat <span class="ot">&lt;-</span> <span class="fu">coef</span>(modelSDM)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>)]</span>
<span id="cb24-429"><a href="#cb24-429" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">invIrW</span>(queen.listw2, <span class="at">rho =</span> rho) <span class="co"># (I - rho*W)^{-1}</span></span>
<span id="cb24-430"><a href="#cb24-430" aria-hidden="true" tabindex="-1"></a>b8 <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(beta_hat[<span class="dv">9</span>])</span>
<span id="cb24-431"><a href="#cb24-431" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">41</span>, <span class="at">nrow =</span> <span class="dv">41</span>)</span>
<span id="cb24-432"><a href="#cb24-432" aria-hidden="true" tabindex="-1"></a>wgamma <span class="ot">&lt;-</span> <span class="fu">listw2mat</span>(queen.listw2) <span class="sc">%*%</span> (<span class="fu">coef</span>(modelSDM)[<span class="dv">14</span>] <span class="sc">*</span> i)</span>
<span id="cb24-433"><a href="#cb24-433" aria-hidden="true" tabindex="-1"></a>mat_s <span class="ot">&lt;-</span>  A <span class="sc">%*%</span> (b8 <span class="sc">*</span> i <span class="sc">+</span> wgamma)</span>
<span id="cb24-434"><a href="#cb24-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-435"><a href="#cb24-435" aria-hidden="true" tabindex="-1"></a><span class="co">#Efek langsung</span></span>
<span id="cb24-436"><a href="#cb24-436" aria-hidden="true" tabindex="-1"></a>de <span class="ot">&lt;-</span> <span class="fu">diag</span>(mat_s)</span>
<span id="cb24-437"><a href="#cb24-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-438"><a href="#cb24-438" aria-hidden="true" tabindex="-1"></a><span class="co">#Efek tidak langsung</span></span>
<span id="cb24-439"><a href="#cb24-439" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(mat_s) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb24-440"><a href="#cb24-440" aria-hidden="true" tabindex="-1"></a>ie <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(mat_s) </span>
<span id="cb24-441"><a href="#cb24-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-442"><a href="#cb24-442" aria-hidden="true" tabindex="-1"></a><span class="co">#Efek total</span></span>
<span id="cb24-443"><a href="#cb24-443" aria-hidden="true" tabindex="-1"></a>te <span class="ot">&lt;-</span> de<span class="sc">+</span>ie</span>
<span id="cb24-444"><a href="#cb24-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-445"><a href="#cb24-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-446"><a href="#cb24-446" aria-hidden="true" tabindex="-1"></a>Efek marginal dari prediktor X1 untuk setiap kecamatan DKI Jakarta berbeda-beda. Untuk memudahkan penyajian efek marginal disajikan dalam bentuk peta dengan sintaks sebagai berikut:</span>
<span id="cb24-447"><a href="#cb24-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-450"><a href="#cb24-450" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-451"><a href="#cb24-451" aria-hidden="true" tabindex="-1"></a><span class="co">#Menggabungkan hasil uraian efek dengan data peta</span></span>
<span id="cb24-452"><a href="#cb24-452" aria-hidden="true" tabindex="-1"></a>gabung2<span class="sc">$</span>de <span class="ot">&lt;-</span> de</span>
<span id="cb24-453"><a href="#cb24-453" aria-hidden="true" tabindex="-1"></a>gabung2<span class="sc">$</span>ie <span class="ot">&lt;-</span> ie</span>
<span id="cb24-454"><a href="#cb24-454" aria-hidden="true" tabindex="-1"></a>gabung2<span class="sc">$</span>te <span class="ot">&lt;-</span> te</span>
<span id="cb24-455"><a href="#cb24-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-456"><a href="#cb24-456" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot Efek Langsung X8</span></span>
<span id="cb24-457"><a href="#cb24-457" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gabung2) <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">fill =</span> de) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb24-458"><a href="#cb24-458" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="st">"Efek Langsung X8"</span>, <span class="at">trans =</span> <span class="st">'reverse'</span>,</span>
<span id="cb24-459"><a href="#cb24-459" aria-hidden="true" tabindex="-1"></a>  <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> F))<span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb24-460"><a href="#cb24-460" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-461"><a href="#cb24-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-462"><a href="#cb24-462" aria-hidden="true" tabindex="-1"></a>Pada peta efek langsung terlihat mayoritas kecamatan di DKI Jakarta berwarna biru gelap (nilai DE 0.028-0.032), kecuali kecamatan Koja, Cilincing dan Cakung yang berwarna biru muda (nilai DE 0.022).</span>
<span id="cb24-463"><a href="#cb24-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-466"><a href="#cb24-466" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-467"><a href="#cb24-467" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot Efek Tidak Langsung X8</span></span>
<span id="cb24-468"><a href="#cb24-468" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gabung2) <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">fill =</span> ie) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb24-469"><a href="#cb24-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="st">"Efek Tidak Langsung X8"</span>, </span>
<span id="cb24-470"><a href="#cb24-470" aria-hidden="true" tabindex="-1"></a>  <span class="at">trans =</span> <span class="st">'reverse'</span>, <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> F))<span class="sc">+</span></span>
<span id="cb24-471"><a href="#cb24-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb24-472"><a href="#cb24-472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-473"><a href="#cb24-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-474"><a href="#cb24-474" aria-hidden="true" tabindex="-1"></a>Pada peta efek langsung terlihat mayoritas kecamatan di DKI Jakarta berwarna biru muda (nilai DE 0.0099-0.0102), kecuali kecamatan Koja, Cilincing dan Cakung yang berwarna biru tua (nilai DE 0.0105). Peta DE dan peta IE tampak merupakan kebalikan satu sama lain.</span>
<span id="cb24-475"><a href="#cb24-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-478"><a href="#cb24-478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-479"><a href="#cb24-479" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot Total Efek X8</span></span>
<span id="cb24-480"><a href="#cb24-480" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gabung2) <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">fill =</span> te) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb24-481"><a href="#cb24-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="st">"Total Efek X8"</span>, </span>
<span id="cb24-482"><a href="#cb24-482" aria-hidden="true" tabindex="-1"></a>  <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> F))<span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb24-483"><a href="#cb24-483" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-484"><a href="#cb24-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-485"><a href="#cb24-485" aria-hidden="true" tabindex="-1"></a>Untuk menentukan efek besarnya perubahan Y di kecamatan DKI Jakarta akibat kenaikan nilai prediktor X8 di Kecamatan Kalideres sebesar 1% dapat dihitung menggunakan sintaks sebagai berikut:</span>
<span id="cb24-486"><a href="#cb24-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-489"><a href="#cb24-489" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb24-490"><a href="#cb24-490" aria-hidden="true" tabindex="-1"></a><span class="co">#Nilai dugaan Y sebelum ada kenaikan nilai</span></span>
<span id="cb24-491"><a href="#cb24-491" aria-hidden="true" tabindex="-1"></a>DBD_up <span class="ot">&lt;-</span> DBD[DBD<span class="sc">$</span>KECAMATAN <span class="sc">!=</span> <span class="st">'KELAPA GADING'</span>,]</span>
<span id="cb24-492"><a href="#cb24-492" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="dv">1</span>, DBD_up[,<span class="dv">4</span><span class="sc">:</span><span class="dv">11</span>]) </span>
<span id="cb24-493"><a href="#cb24-493" aria-hidden="true" tabindex="-1"></a>gamma <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">coef</span>(modelSDM)[<span class="dv">11</span><span class="sc">:</span><span class="dv">14</span>], <span class="at">nrow =</span> <span class="dv">4</span>)</span>
<span id="cb24-494"><a href="#cb24-494" aria-hidden="true" tabindex="-1"></a>X_2 <span class="ot">&lt;-</span> DBD_up[, <span class="fu">c</span>(<span class="st">'X1'</span>, <span class="st">'X3'</span>, <span class="st">'X5'</span>, <span class="st">'X8'</span>)]</span>
<span id="cb24-495"><a href="#cb24-495" aria-hidden="true" tabindex="-1"></a>X_2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X_2)</span>
<span id="cb24-496"><a href="#cb24-496" aria-hidden="true" tabindex="-1"></a>matw <span class="ot">&lt;-</span> <span class="fu">listw2mat</span>(queen.listw2)</span>
<span id="cb24-497"><a href="#cb24-497" aria-hidden="true" tabindex="-1"></a>y_hat_pre <span class="ot">&lt;-</span> A <span class="sc">%*%</span> (<span class="fu">crossprod</span>(<span class="fu">t</span>(X), beta_hat) <span class="sc">+</span> (matw <span class="sc">%*%</span> X_2 <span class="sc">%*%</span> gamma))</span>
<span id="cb24-498"><a href="#cb24-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-499"><a href="#cb24-499" aria-hidden="true" tabindex="-1"></a><span class="co">#Data Kec. Kalideres naikdengan kenaikan nilai</span></span>
<span id="cb24-500"><a href="#cb24-500" aria-hidden="true" tabindex="-1"></a>DBD_new <span class="ot">&lt;-</span> DBD_up</span>
<span id="cb24-501"><a href="#cb24-501" aria-hidden="true" tabindex="-1"></a>DBD_new[DBD_new<span class="sc">$</span>KECAMATAN <span class="sc">==</span> <span class="st">'KALI DERES'</span>, <span class="st">"X8"</span>] <span class="ot">&lt;-</span> <span class="dv">72</span></span>
<span id="cb24-502"><a href="#cb24-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-503"><a href="#cb24-503" aria-hidden="true" tabindex="-1"></a><span class="co">#Nilai dugaan Y setelah ada kenaikan nilai</span></span>
<span id="cb24-504"><a href="#cb24-504" aria-hidden="true" tabindex="-1"></a>X_d <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="dv">1</span>, DBD_new[,<span class="dv">4</span><span class="sc">:</span><span class="dv">11</span>]) </span>
<span id="cb24-505"><a href="#cb24-505" aria-hidden="true" tabindex="-1"></a>X_2_d <span class="ot">&lt;-</span> DBD_new[, <span class="fu">c</span>(<span class="st">'X1'</span>, <span class="st">'X3'</span>, <span class="st">'X5'</span>, <span class="st">'X8'</span>)]</span>
<span id="cb24-506"><a href="#cb24-506" aria-hidden="true" tabindex="-1"></a>X_2_d <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X_2_d)</span>
<span id="cb24-507"><a href="#cb24-507" aria-hidden="true" tabindex="-1"></a>y_hat_post <span class="ot">&lt;-</span> A <span class="sc">%*%</span> (<span class="fu">crossprod</span>(<span class="fu">t</span>(X_d), beta_hat) <span class="sc">+</span> </span>
<span id="cb24-508"><a href="#cb24-508" aria-hidden="true" tabindex="-1"></a>             (matw <span class="sc">%*%</span> X_2_d <span class="sc">%*%</span> gamma))</span>
<span id="cb24-509"><a href="#cb24-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-510"><a href="#cb24-510" aria-hidden="true" tabindex="-1"></a><span class="co">#Perubahan nilai</span></span>
<span id="cb24-511"><a href="#cb24-511" aria-hidden="true" tabindex="-1"></a>delta_y <span class="ot">&lt;-</span> y_hat_post <span class="sc">-</span> y_hat_pre</span>
<span id="cb24-512"><a href="#cb24-512" aria-hidden="true" tabindex="-1"></a>DBD_new<span class="sc">$</span>delta_y <span class="ot">&lt;-</span> delta_y</span>
<span id="cb24-513"><a href="#cb24-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-514"><a href="#cb24-514" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot perubahan nilai</span></span>
<span id="cb24-515"><a href="#cb24-515" aria-hidden="true" tabindex="-1"></a>gabung.new <span class="ot">=</span> <span class="fu">inner_join</span>(shp.jkt, DBD_new, <span class="at">by =</span> <span class="st">"KODE2010"</span>)</span>
<span id="cb24-516"><a href="#cb24-516" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gabung.new) <span class="sc">+</span></span>
<span id="cb24-517"><a href="#cb24-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">fill =</span> delta_y) <span class="sc">+</span></span>
<span id="cb24-518"><a href="#cb24-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">size =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb24-519"><a href="#cb24-519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="st">"Perubahan Nilai"</span>,<span class="at">trans =</span> <span class="st">'reverse'</span>,</span>
<span id="cb24-520"><a href="#cb24-520" aria-hidden="true" tabindex="-1"></a>                        <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">reverse =</span> F))<span class="sc">+</span></span>
<span id="cb24-521"><a href="#cb24-521" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb24-522"><a href="#cb24-522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb24-523"><a href="#cb24-523" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb24-524"><a href="#cb24-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-525"><a href="#cb24-525" aria-hidden="true" tabindex="-1"></a>Pada peta perubahan nilai Y (kasus DBD) terlihat Kecamatan Kalideres (warna biru pekat) mempunyai kenaikan kasus DBD terbesar dibandingkan kecamatan lainnya di DKI Jakarta. Pada peta terlihat tetangga Kecamatan Kalideres tidak mengalami perubahan kasus DBD. Beberapa kecamatan yang letaknya jauh dari Kecamatan Kalideres tampak berwarna biru tua, hal ini karena adanya efek dependensi pada  prediktor X8. </span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>